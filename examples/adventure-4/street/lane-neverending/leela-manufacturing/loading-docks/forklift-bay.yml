# FORKLIFT BAY
# Prototypical forklifts for cloning and borrowing
# See: skills/prototype/

object:
  id: forklift-bay
  name: "Forklift Bay"
  type: vehicle_station
  emoji: "ğŸ—ï¸"
  brand: LEELA
  
  tags: [station, vehicles, forklifts, prototype]
  
  description: |
    A row of charging stations with LEELA-branded forklifts.
    The prototype sits at the end, pristine and labeled "CLONE ME."
    Other forklifts are available for borrowing or can be cloned on demand.
    
  examine: |
    FORKLIFT BAY â€” VEHICLE DEPOT
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  LEELA FORKLIFT FLEET                                       â”‚
    â”‚                                                             â”‚
    â”‚  [1] [2] [3] [4] [P]                                        â”‚
    â”‚  âš¡  âš¡  ğŸ”‹  ğŸ”‹  âœ¨                                            â”‚
    â”‚  IN  IN  RDY RDY PROTO                                      â”‚
    â”‚                                                             â”‚
    â”‚  âš¡ = Charging   ğŸ”‹ = Ready   âœ¨ = Prototype (Clone Me!)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    AVAILABLE UNITS:
    â€¢ Forklift #1: Charging (2 hours remaining)
    â€¢ Forklift #2: Charging (45 minutes remaining)
    â€¢ Forklift #3: Ready â€” keys in ignition
    â€¢ Forklift #4: Ready â€” minor dent, fully functional
    â€¢ PROTOTYPE: Pristine. Clone for new units.
    
    FEATURES (All Units):
    â€¢ Electric drive (quiet, clean)
    â€¢ 2-ton lift capacity
    â€¢ Self-driving mode (toggle with ğŸ¤– button)
    â€¢ Manual override always available
    â€¢ Safety sensors (won't crush you... probably)
    
    OPERATING INSTRUCTIONS:
    1. Check battery level (gauge on dash)
    2. Sit in seat (activates safety interlock)
    3. Forward/Reverse lever, steering wheel
    4. Lift controls on right armrest
    5. Self-drive: Press ğŸ¤–, state destination
    
  container: true
  capacity: 5  # Forklift slots
  
  # The prototype forklift definition
  prototype:
    leela-forklift:
      id: leela-forklift
      name: "Leela Forklift"
      type: vehicle
      emoji: "ğŸ—ï¸"
      brand: LEELA
      tags: [vehicle, forklift, electric, autonomous, leela-brand]
      
      description: "A yellow electric forklift with Leela branding."
      examine: |
        LEELA ELECTRIC FORKLIFT
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        Compact yellow forklift, surprisingly nimble.
        Dashboard displays:
        â€¢ Battery: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 80%
        â€¢ Mode: [MANUAL] / ğŸ¤– AUTO
        â€¢ Payload: 0 / 2000 kg
        â€¢ Hours: 47,382
        
        Controls:
        â€¢ Steering wheel (power-assisted)
        â€¢ Forward/Reverse lever
        â€¢ Lift joystick (right armrest)
        â€¢ Horn (surprisingly loud)
        â€¢ ğŸ¤– Auto-drive button
        
        Safety sticker: "FORKLIFTS HAVE RIGHT OF WAY"
        Bumper sticker: "I â¤ï¸ LIFTING"
        
      takeable: false
      driveable: true
      
      properties:
        capacity_kg: 2000
        battery_max: 100
        battery_current: 100
        mode: manual  # or auto
        speed: 10  # units per turn
        
      state:
        driver: null
        cargo: []
        destination: null
        battery: 100
        
      methods:
        DRIVE:
          description: "Take manual control of the forklift"
          effect: "Player becomes driver, can navigate with forklift"
          
        AUTODRIVE:
          description: "Engage self-driving mode"
          parameters:
            destination: "Where to go"
          effect: |
            Forklift navigates autonomously to destination.
            Will pick up/drop off cargo as instructed.
            Beeps politely at obstacles.
            
        LIFT:
          description: "Pick up cargo with forks"
          parameters:
            target: "What to lift"
          guard: "target.weight <= 2000"
          effect: "Target loaded onto forks"
          
        LOWER:
          description: "Set down cargo"
          effect: "Cargo placed at current location"
          
        PARK:
          description: "Return to charging bay"
          effect: "Forklift returns to bay, begins charging"
          
        EXIT:
          description: "Get off the forklift"
          effect: "Player dismounts, forklift stays put"
          
        HONK:
          description: "Sound the horn"
          effect: "*HONK HONK* â€” Pedestrians scatter"
          
      sounds:
        start: "*whirrrr* â€” Electric motor engaged"
        drive: "*hummmmm*"
        lift: "*whine* â€” Hydraulics engaging"
        honk: "*HONK HONK*"
        autodrive: "*boop* â€” Destination accepted"
        low_battery: "*beep beep beep* â€” Return to charging bay"
        
      autonomous_behaviors:
        avoid_collision:
          trigger: "Obstacle detected"
          effect: "Stop, beep, navigate around"
          
        return_to_charge:
          trigger: "battery < 20"
          effect: "Interrupt task, return to bay"
          
        yield_to_humans:
          trigger: "Pedestrian in path"
          effect: "Stop, wait, beep politely"
          
  methods:
    BORROW:
      description: "Take an available forklift"
      parameters:
        unit: "Which unit number (1-4)"
      effect: "Forklift assigned to you until returned"
      
    CLONE:
      description: "Create a new forklift from prototype"
      effect: "New forklift materialized at bay"
      
    RETURN:
      description: "Return a borrowed forklift"
      effect: "Forklift parks and begins charging"
      
    STATUS:
      description: "Check fleet status"
      effect: "Display availability and charge levels"
      
  fleet:
    forklift_1:
      status: charging
      battery: 40
      time_remaining: "2 hours"
      
    forklift_2:
      status: charging
      battery: 75
      time_remaining: "45 minutes"
      
    forklift_3:
      status: ready
      battery: 100
      location: "bay"
      
    forklift_4:
      status: ready
      battery: 95
      notes: "Minor dent on left side. Functional."
