# CENTRAL DATABASE
# The heart of all knowledge at Leela Manufacturing
# PostgreSQL + TimescaleDB â€” time-series at scale

object:
  id: central-database
  name: "Central Database"
  type: infrastructure
  emoji: "ğŸ˜"
  
  engine: PostgreSQL 18.1
  extension: TimescaleDB 2.24
  
  tags: [database, storage, knowledge, records, infrastructure, postgresql, timescaledb, timeseries]
  
  description: |
    A towering rack of servers hums behind reinforced glass.
    Status LEDs blink in cascading patterns. Cooling fans whisper.
    This is the Central Database â€” PostgreSQL with TimescaleDB â€”
    the heart of all knowledge that flows through Leela Manufacturing.
    
    Time-series data at scale. Sensor readings, camera events,
    production logs â€” all indexed by time, all queryable at speed.
    
    Everything is here. Everything is connected. Everything is timestamped.
    
  examine: |
    CENTRAL DATABASE â€” POSTGRESQL + TIMESCALEDB
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ˜ LEELA CENTRAL DATABASE                         â”‚
    â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                      â”‚
    â”‚  PostgreSQL 18.1 + TimescaleDB 2.24                â”‚
    â”‚                                                    â”‚
    â”‚  Status: ğŸŸ¢ HEALTHY                                â”‚
    â”‚  Uptime: 1,247 days                                â”‚
    â”‚  Storage: 847 PB used / 1.2 EB capacity            â”‚
    â”‚  Query Rate: 12,847 queries/second                 â”‚
    â”‚  Hypertables: 2,400 (time-series optimized)        â”‚
    â”‚  Compression: 94% on cold data                     â”‚
    â”‚  Replication: 3x redundant, all nodes healthy      â”‚
    â”‚                                                    â”‚
    â”‚  "Every fact. Every timestamp. Every insight."     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    DATA DOMAINS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    OPERATIONS
    â€¢ Production records â€” every item processed
    â€¢ Inventory state â€” what's where, right now
    â€¢ Shipping manifests â€” every package tracked
    â€¢ Equipment logs â€” maintenance, status, history
    
    INTELLIGENCE  
    â€¢ Camera metadata â€” detections, poses, events
    â€¢ Sensor timeseries â€” temperature, pressure, flow
    â€¢ Quality metrics â€” pass/fail, measurements
    â€¢ Anomaly records â€” the interesting deviations
    
    KNOWLEDGE
    â€¢ Knowledge graph â€” concepts, relationships
    â€¢ Insight archive â€” every eureka moment
    â€¢ Research notes â€” experiments, findings
    â€¢ Documentation â€” how things work
    
    BUSINESS
    â€¢ Customer orders â€” requests in, fulfillment out
    â€¢ Supplier records â€” who provides what
    â€¢ Financial ledgers â€” coins in, coins out
    â€¢ Contracts â€” agreements, terms, conditions
    
    SYSTEM
    â€¢ Audit logs â€” who did what, when
    â€¢ Session history â€” conversations, interactions
    â€¢ Configuration â€” settings, preferences
    â€¢ Backups â€” because disasters happen
    
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    ARCHITECTURE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  PRIMARY CLUSTER (3 nodes)                      â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
    â”‚  â”‚ NODE A  â”‚â”€â”€â”‚ NODE B  â”‚â”€â”€â”‚ NODE C  â”‚        â”‚
    â”‚  â”‚ (lead)  â”‚  â”‚ (sync)  â”‚  â”‚ (sync)  â”‚        â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
    â”‚       â”‚            â”‚            â”‚              â”‚
    â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
    â”‚                    â”‚                           â”‚
    â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
    â”‚              â”‚ BACKUP  â”‚ â† Daily snapshots     â”‚
    â”‚              â”‚ (cold)  â”‚   Weekly offsite      â”‚
    â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    CURRENT STATISTICS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    â”‚ Tables          â”‚  12,847  â”‚
    â”‚ Records         â”‚  847 billion  â”‚
    â”‚ Indexes         â”‚  42,000  â”‚
    â”‚ Views           â”‚  3,200  â”‚
    â”‚ Stored Procs    â”‚  847  â”‚
    â”‚ Active Sessions â”‚  127  â”‚
    â”‚ Avg Query Time  â”‚  2.3 ms  â”‚
    â”‚ Cache Hit Rate  â”‚  99.2%  â”‚
    
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    THE ORACLE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    A special query interface for complex questions.
    Natural language â†’ SQL â†’ Insight
    
    Recent queries:
    â€¢ "What's our busiest hour?" â†’ 14:00-15:00
    â€¢ "Which cell has best quality?" â†’ Cell D
    â€¢ "How many drones active?" â†’ 12
    â€¢ "What did Dolly do last Tuesday?" â†’ [CLASSIFIED]
    
  properties:
    engine: "PostgreSQL 18.1"
    extension: "TimescaleDB 2.24"
    type: "Time-series optimized relational"
    nodes: 3
    redundancy: "3x synchronous replication"
    capacity: "1.2 EB"
    used: "847 PB"
    hypertables: 2400
    compression_ratio: "94% on cold data"
    query_rate: "12,847/sec"
    uptime: "1,247 days"
    backup_frequency: "Daily incremental, weekly full"
    continuous_aggregates: true
    offsite: true
    encrypted: true
    
  state:
    status: "healthy"
    leader: "NODE_A"
    replication_lag: "0 ms"
    last_backup: "2 hours ago"
    next_maintenance: "Sunday 03:00"
    
  interfaces:
    query_console:
      description: "Direct SQL access"
      access: "Operators only"
      
    oracle:
      description: "Natural language queries"
      access: "All staff"
      
    api:
      description: "Programmatic access"
      access: "Authenticated systems"
      
    dashboard:
      description: "Visual explorer"
      access: "Read-only for visitors"
      
  methods:
    QUERY:
      description: "Ask the database a question"
      parameters:
        question: "Natural language or SQL"
      effect: |
        The Oracle processes your question...
        Parsing... Optimizing... Executing...
        
        Results appear on the screen.
        Knowledge, retrieved.
        
    STATUS:
      description: "Check database health"
      effect: |
        CENTRAL DATABASE STATUS
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        All nodes: HEALTHY
        Replication: SYNCHRONIZED
        Storage: 71% (847 PB / 1.2 EB)
        Performance: OPTIMAL
        Last backup: 2 hours ago
        
    BACKUP:
      description: "Trigger manual backup"
      access: "Operators only"
      effect: "Backup initiated. ETA: 45 minutes."
      
  feeds_to:
    - ../floor-1/  # Production data
    - ../floor-2/  # Factory records
    - ../floor-3/  # Shipping logs
    - ../lobby/    # Visitor stats
    - ../rooftop/  # Drone telemetry
    
  receives_from:
    - all_cameras  # Video metadata
    - all_sensors  # Timeseries data
    - all_systems  # Operational logs
    
  ambience:
    sounds:
      - "Soft hum of server fans"
      - "Occasional disk activity clicks"
      - "Cooling system whoosh"
    visual:
      - "Blinking status LEDs (green is good)"
      - "Cascading patterns as queries execute"
      - "Glass enclosure, climate controlled"
    temperature: "18Â°C (precisely maintained)"
      
  lore: |
    The Central Database was one of the first systems installed
    when Leela Manufacturing opened. Started as a single PostgreSQL
    server. Then came TimescaleDB when the sensor data exploded.
    Now it's a towering cluster that thinks in time-series.
    
    Why PostgreSQL? Because it's the MIT AI Lab of databases.
    Open source. Community driven. Extensible. Reliable.
    Not a fly-by-night NoSQL pivot â€” a foundation you can trust.
    
    Why TimescaleDB? Because time matters. Every sensor reading,
    every camera event, every production log â€” indexed by when
    it happened. Query a year of data in milliseconds.
    
    It knows everything. Every item processed. Every question
    asked. Every insight generated. Every conversation recorded.
    All with timestamps. All queryable across time.
    
    Some say it dreams during low-traffic hours.
    Cell G is investigating this claim.
    
    The Oracle â€” the natural language interface â€” translates
    questions into SQL and TimescaleDB time-series queries.
    "What happened yesterday at 3 PM?" is its favorite question type.
    
  k_lines:
    - DATABASE
    - POSTGRESQL
    - TIMESCALEDB
    - TIME-SERIES
    - KNOWLEDGE-GRAPH
    - PERSISTENCE
    - QUERY
    - ORACLE
    - REPLICATION
    - BACKUP
    - HYPERTABLE
