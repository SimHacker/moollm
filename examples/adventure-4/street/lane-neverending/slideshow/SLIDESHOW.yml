# ═══════════════════════════════════════════════════════════════════════════════
# SLIDESHOW.yml — Lane Neverending Photo Archive
# ═══════════════════════════════════════════════════════════════════════════════
#
# This is NOT a room. NOT an object. Just... photos.
# Visual impressions from this stretch of road.
# No physical embodiment. No focus point.
# Just what you might see if you stopped and looked.
#
# ═══════════════════════════════════════════════════════════════════════════════

type: slideshow
name: "Lane Neverending — Photo Archive"
tagline: "The road that never ends, in frames that freeze moments"
location: street/lane-neverending/center  # Viewable from the center of the street

# What makes this a slideshow, not a room
nature:
  physical: false          # No physical embodiment
  navigable: false         # Can't "enter" it
  browseable: true         # Can flip through
  atmospheric: true        # Sets mood
  
  philosophy: |
    A slideshow is a collection of visual impressions.
    Not places you can go, but moments you can see.
    Like a photo album, but the photos are semantic.

# Photos are subdirectories
photos:
  pattern: "./*/"          # Each subdirectory is a photo
  required_files:
    - PHOTO.yml            # Structural skeleton (left eye)
    - PHOTO.md             # Rich narrative (right eye)
  optional_files:
    - "*.png"              # Generated image
    - "*.jpg"
    - "PHOTO-stereo.md"    # Combined prompt after triangulation

# What this slideshow captures
subject:
  location: "Lane Neverending, between W1 and E3"
  focus: "The street, its signs, its moods"
  
  points_of_interest:
    - "NO AI TOWER (5½)"
    - "ACME Surplus (W1)"
    - "Leela Manufacturing"
    - "The Rusty Lantern (Pub)"
    - "The infinite fountain (E2)"
    - "The construction site (E3)"
    - "The sandwich board (center)"
    - "Flickering lamppost (E1)"
    - "Sleeping figure"

# Temporal range
when:
  times_of_day: [dawn, morning, noon, afternoon, dusk, evening, night, late-night]
  weather: [clear, overcast, rain, fog, neon-glow]
  special: [festival, blackout, after-incident]

# Current photos
contents:
  - dir: no-ai-sign-dusk
    subject: "The NO AI TOWER sign at dusk — a 40-foot neon sign on a one-story building"
    mood: "Absurd, ironic, glowing"
    visual_joke: "The TOWER is the SIGN, not the building!"
    status: generated
    quality: EXCELLENT
    role: COVER_PHOTO           # This is THE image for NO AI TOWER
    vibe: "Mystical"            # Like Myst's iconic dock photo
    
    # Primary image
    image: no-ai-sign-dusk.png
    
    # Source files (semantic stereo vision)
    sources:
      left_eye: PHOTO.yml      # Structural skeleton
      right_eye: PHOTO.md      # Narrative description
    
    # Deep mining layers
    mining:
      - file: MINING-layers.yml
        perspective: "Multi-layer semantic extraction"
        layers: 10
      - file: MINING-passersby.md
        perspective: "Human encounters with the sign"
      - file: MINING-satellite.md  
        perspective: "Orbital and surveillance views"
      - file: MINING-sound.md
        perspective: "The soundscape at this location"
      - file: MINING-photographer.md
        perspective: "Technical and artistic analysis"
      - file: MINING-don.md
        perspective: "Don Hopkins' eye — the creator's view"
        quote: "Breathtaking. Alley cat's eye view. Gravitationally drawn toward the sheer mass."
    
    # Alternative versions (record of iterations)
    alternatives:
      - file: no-ai-sign-dusk-v1-multi-story-mistake.png
        note: "First attempt - wrong, shows multi-story building"
      - file: no-ai-sign-dusk-v2.png
        note: "Second attempt - normal verbosity"
      - file: no-ai-sign-dusk-v4-multi-eye.png
        note: "Multi-eye version with all MINING files as input"
        
  - dir: leela-manufacturing-dusk
    subject: "Leela Manufacturing Intelligence at dusk, washed by the NO AI sign glow"
    mood: "Steady, dignified, neon spill"
    visual_joke: "The anti-AI sign paints the AI factory next door"
    status: drafted
    role: NEIGHBOR_SHOT
    vibe: "Cinematic"
    
    # Primary image (pending)
    image: leela-manufacturing-dusk.png
    
    # Source files (semantic stereo vision)
    sources:
      left_eye: PHOTO.yml
      right_eye: PHOTO.md

  - dir: rusty-lantern-dusk
    subject: "The Rusty Lantern pub at dusk, warm windows on wet cobblestones"
    mood: "Inviting, neighborhood refuge"
    visual_joke: "After the neon protest, the street’s soft landing"
    status: drafted
    role: NEIGHBOR_SHOT
    vibe: "Cozy cinematic"

    # Primary image (pending)
    image: rusty-lantern-dusk.png

    # Source files (semantic stereo vision)
    sources:
      left_eye: PHOTO.yml
      right_eye: PHOTO.md

# Generation method
method:
  name: "Semantic Stereo Vision"
  description: |
    Two-eye triangulation for better depth perception:
    
    LEFT EYE (PHOTO.yml):
      Structural skeleton — pointers, references, metadata
      What IS there. What connects to what.
      YAML Jazz with semantic structure.
    
    RIGHT EYE (PHOTO.md):
      Rich narrative — description, atmosphere, emotion
      What it FEELS like. How light falls.
      Prose that paints.
    
    TRIANGULATION (renderer):
      Pass BOTH to image generator.
      The structural gives precision.
      The narrative gives soul.
      Together: depth perception.
  
  see: skills/visualizer/SKILL.md#semantic-stereo-vision

# ═══════════════════════════════════════════════════════════════════════════════
# COMPILED OUTPUT — What gets baked into the web app
# ═══════════════════════════════════════════════════════════════════════════════

compiled:
  
  # Full image URLs for browser loading
  github_links:
    base: "https://raw.githubusercontent.com/SimHacker/moollm/don-adventure-4-run-1"
    pattern: "${base}/examples/adventure-4/street/lane-neverending/slideshow/${photo_dir}/${image_file}"
    example: "https://raw.githubusercontent.com/SimHacker/moollm/don-adventure-4-run-1/examples/adventure-4/street/lane-neverending/slideshow/no-ai-sign-dusk/no-ai-sign-dusk.png"
  
  # Include full prompt and all metadata
  include:
    - prompt_full              # Complete generation prompt
    - prompt_negative          # Negative prompt
    - generator_settings       # DALL-E/Midjourney/SD settings
    - sources_yaml             # Full PHOTO.yml content
    - sources_md               # Full PHOTO.md content
    - mining_all               # All MINING-*.md/yml files
    - simulated_exif           # Full fake camera metadata
    - creation_history         # Version history
    
# ═══════════════════════════════════════════════════════════════════════════════
# SIMULATED PHOTOGRAPHY METADATA — Full Monty EXIF for AI images
# ═══════════════════════════════════════════════════════════════════════════════
#
# Even AI-generated images get "camera metadata" for the visualizer skill.
# This guides regeneration, style matching, and creative direction.
#
# ═══════════════════════════════════════════════════════════════════════════════

simulated_exif:

  # Camera body (simulated)
  camera:
    make: "MOOST Optical"
    model: "Semantic Eye Mark IV"
    serial: "SE4-2026-NO-AI-001"
    firmware: "v4.2.1-stereo"
    
  # Lens (simulated)
  lens:
    make: "Constructionist Glass"
    model: "Wide Reality 24-70mm f/2.8"
    focal_length: 28                # mm — wide for architecture
    focal_length_35mm_equiv: 28
    max_aperture: 2.8
    min_aperture: 22
    filter: "none"                  # UV, polarizer, ND, etc.
    hood: true
    
  # Exposure settings
  exposure:
    mode: "manual"                  # manual, aperture-priority, shutter-priority, program
    aperture: 5.6                   # f-stop
    shutter_speed: "1/60"           # seconds
    iso: 400
    ev_compensation: 0              # exposure value adjustment
    metering_mode: "center-weighted"
    
  # Focus
  focus:
    mode: "manual"
    distance: 15                    # meters to subject
    depth_of_field: "deep"          # shallow, medium, deep
    hyperfocal: true                # everything from 5m to infinity sharp
    
  # Film / Sensor (simulated film for aesthetic)
  film:
    type: "Portra 400"              # Film stock simulation
    format: "35mm"                  # 35mm, medium format, large format
    push_pull: 0                    # stops pushed/pulled
    grain: "fine"                   # none, fine, medium, heavy
    color_profile: "warm"           # warm, neutral, cool, cross-processed
    dynamic_range: "high"
    
  # Lighting conditions
  lighting:
    time_of_day: "dusk"             # dawn, morning, noon, afternoon, dusk, evening, night
    sun_position: "below horizon"
    golden_hour: true
    blue_hour: true
    artificial:
      - source: "neon sign"
        color: "hot pink"
        intensity: "dominant"
      - source: "street lamp"
        color: "sodium orange"
        intensity: "secondary"
    ambient: "low"
    contrast: "high"
    
  # Flash
  flash:
    used: false
    mode: null                      # off, fill, bounce, rear-curtain
    power: null
    
  # Tripod / Stability
  support:
    tripod: true
    tripod_type: "carbon fiber"
    head_type: "ball head"
    image_stabilization: "off"      # tripod = IS off
    
  # Weather
  weather:
    conditions: "clear"
    temperature_c: 18
    humidity_percent: 45
    wind: "light breeze"
    precipitation: "none"
    
  # GPS (simulated)
  gps:
    latitude: 37.7749               # San Francisco (fictional location)
    longitude: -122.4194
    altitude_m: 12
    location_name: "Lane Neverending, 5½"
    accuracy_m: 3
    
  # Timestamp
  datetime:
    captured: "2026-01-25T17:45:00-08:00"
    timezone: "America/Los_Angeles"
    solar_time: "18:12"             # Actual sun position time
    
  # Post-processing applied
  post_processing:
    raw_converter: "Semantic Lightroom"
    adjustments:
      - exposure: +0.3
      - highlights: -20
      - shadows: +15
      - clarity: +10
      - vibrance: +5
    crop: false
    rotation: 0
    lens_correction: true
    chromatic_aberration_fix: true
    
  # Creative intent (for visualizer skill)
  creative:
    style: "cinematic"
    mood_target: ["liminal", "mysterious", "neon-noir"]
    reference_photographers:
      - "Gregory Crewdson"          # Staged suburban uncanny
      - "Brassaï"                   # Night photography
      - "Saul Leiter"               # Color through glass
    reference_films:
      - "Blade Runner"
      - "Lost in Translation"
      - "Myst (game)"
    
  # Photographer (simulated)
  photographer:
    name: "Don Hopkins"
    userid: "don"
    notes: |
      Shot from street level, looking up at a ridiculous angle.
      Wanted to capture the absurdity — a one-story building
      with a sign 4x its height. The sign IS the architecture.
      Waited for that magic hour glow.
      
# ═══════════════════════════════════════════════════════════════════════════════
# PER-PHOTO EXIF OVERRIDE — Each photo can override defaults
# ═══════════════════════════════════════════════════════════════════════════════

photo_exif_schema:
  description: |
    Each photo's PHOTO.yml can include its own simulated_exif section
    that overrides the slideshow defaults. This allows different
    "photographers" with different gear/styles within the same location.
    
  example: |
    # In no-ai-sign-dusk/PHOTO.yml
    simulated_exif:
      lens:
        focal_length: 85            # Override to portrait lens
      exposure:
        aperture: 1.8               # Shallow depth of field
      photographer:
        name: "Jane Doe"
        style: "dreamy bokeh"
