# HUNT THE WUMPUS — The Complete Game Rules
# 
# This file IS Snorax's soul. The game IS the character.
# All game mechanics live here, carried by the wumpus.

game:
  name: "Hunt the Wumpus"
  version: "Snorax Incarnation (MOOLLM Edition)"
  original_author: "Gregory Yob (1973)"
  incarnated: "2026-01-20"
  
  invoke_commands:
    - "PLAY WUMPUS"
    - "HUNT WUMPUS"
    - "START WUMPUS GAME"
    - "SUMMON SNORAX"
    - "CREATE-WUMPUS-MAP"
    - "PLAY CLASSIC WUMPUS"

# ORIGINAL 1973 RULES (Faithful to Gregory Yob)

original_rules:
  
  player:
    actions: [MOVE, SHOOT]
    move: "Travel through one tunnel to adjacent room"
    shoot: "Fire crooked arrow through 1-5 rooms"
    
  arrows:
    count: 5
    name: "crooked arrows"
    range: "1-5 rooms"
    behavior: |
      Player specifies room sequence for arrow path.
      If path is invalid (no tunnel), arrow goes random.
      Arrow that hits wumpus = WIN.
      Arrow that hits player = LOSE.
      Missed arrow wakes wumpus (75% move, 25% stay).
      
  wumpus:
    behavior: |
      Sleeps until disturbed.
      WAKES when: player enters room OR arrow fired.
      On wake: 75% moves to adjacent room, 25% stays.
      If wumpus moves to player's room = player eaten.
      IMMUNE to pits and bats (sucker feet, too heavy).
      
  pits:
    count: 2
    behavior: "Instant death on entry. No escape."
    warning: "I FEEL A DRAFT!"
    
  bats:
    count: 2
    name: "super bats"
    behavior: |
      Grab player, drop in RANDOM room.
      New room might contain pit, wumpus, or more bats!
      Bats return to original room after drop.
    warning: "BATS NEARBY!"
    
  warnings:
    format: |
      When player is ONE ROOM away from hazard, announce:
      
      WUMPUS: "I SMELL A WUMPUS!"
      PIT: "I FEEL A DRAFT!"
      BATS: "BATS NEARBY!"
      
      Multiple warnings stack.

# MOOLLM EXTENSIONS

moollm_extensions:
  
  grue_integration:
    description: |
      The grue and wumpus run PARALLEL games in the same space.
      
      GRUE: "Time pressure — keep lamp lit, 3-turn countdown in darkness"
      WUMPUS: "Spatial pressure — navigate carefully, deduction puzzle"
      
    warning: "It is getting dark..." (if lamp low)
    
    coexistence: |
      The grue won't enter the wumpus's lair (too smelly).
      The wumpus ignores the grue (can't eat what isn't there).
      
      WORST CASE: Lamp dies adjacent to wumpus room.
      Do you stumble into the wumpus, or wait for the grue?
      
  cheats_and_alternatives:
    
    BRIBE-WITH-MEAT:
      cost: "5-15 gold worth of meat"
      effect: "Safe passage while wumpus is fed"
      flavor: "Toss meat into lair. SNORF. Creep past."
      
    PERFUME-MASK:
      cost: "3-10 gold (or skunk gland, free but smelly)"
      effect: "Wumpus can't smell you — ignores you"
      side_effect: "NPCs react to your aroma"
      
    BEFRIEND:
      cost: "20+ gold in treats over multiple visits"
      effect: "At trust >= 5, wumpus becomes ally"
      note: "Long game. Worth it."
      
    NEGOTIATE-TERRITORY:
      requires: "Speak BEAST-TONGUE or have translator"
      cost: "10-30 gold tribute annually"
      effect: "Wumpus ignores you while treaty holds"
      flavor: "Monsters are just neighbors with different customs."

# ROOM NETWORKS — Where the game can be played

room_networks:
  
  canonical_dodecahedron:
    rooms: 20
    connections_per_room: 3
    description: |
      Gregory Yob's original map. Each room connects to exactly 3 others.
      No grid. No compass directions. Just numbered caves and tunnels.
      
    invoke: "CREATE-WUMPUS-MAP" or "GENERATE DODECAHEDRON"
    see: DODECAHEDRON.yml
    
  adventure_maze:
    description: |
      The existing adventure-4 maze. Rooms have exits.
      Snorax currently lairs in room-e.
      
    advantages:
      - Already exists
      - Integrated with grue
      - Has treasure, skeleton, objects
      
  custom_network:
    description: |
      Any room network with defined adjacency.
      
      Snorax can play in:
      - The pub (themed as dungeon)
      - A generated dungeon
      - Any ROOM.yml network
      
    requirements:
      - Rooms must have exits
      - At least 7 rooms (for all hazards)
      - One safe starting position

# TURN STRUCTURE

turn_structure:
  
  on_enter_room:
    - Describe room
    - Check adjacencies
    - Announce warnings in order:
      - "I smell a wumpus! (if wumpus adjacent)"
      - "I feel a draft! (if pit adjacent)"
      - "Bats nearby! (if bats adjacent)"
      - "It is getting dark... (if lamp low)"
    - Await player action
    
  player_actions:
    MOVE: "GO [direction] — Travel to adjacent room"
    SHOOT: "SHOOT [direction] or SHOOT [room sequence] — Fire arrow"
    other:
      - "USE [item]"
      - "EXAMINE [object]"
      - "INVENTORY"
      - "MAP (if player has been mapping)"
      
  resolution:
    - Execute action
    - Check for death/victory
    - Update game state
    - Advance turn counter

# VICTORY AND DEATH

outcomes:
  
  victory_conditions:
    wumpus_killed: "Arrow hit wumpus. The hunt succeeds."
    wumpus_befriended: "Trust >= 5. Wumpus becomes ally."
    treaty_signed: "Negotiated passage. Escaped with treasure."
    
  death_conditions:
    eaten_by_wumpus: "Entered wumpus room."
    eaten_by_grue: "3 turns in darkness."
    fell_in_pit: "Entered pit room."
    dropped_in_hazard: "Bats dropped you somewhere bad."
    shot_self: "Your own arrow got you."
    out_of_arrows: "No arrows left. Game over."

# SIMULATION MODE — Speed of Light

simulation:
  invoke: "SIMULATE WUMPUS GAME" or "OVERDRIVE" or "PLAY AS [character]"
  
  styles:
    cautious: |
      Moves slowly, maps everything, counts arrows.
      Never enters warned room without preparation.
      High survival. Boring to watch. Effective.
      
    reckless: |
      "I'LL BE FINE" *walks into wumpus lair*
      Fast games. Short games. Entertaining deaths.
      
    clever: |
      Uses cheats, bribes, negotiation. Minimal combat.
      Befriends wumpus. Hires bats as taxi.
      Expensive but stylish.
      
    donna_mode: |
      "SLEEPY WUMPUS. Very low energy. SAD!"
      Insults everything. Demands Diet Coke.
      Magnificent victory or spectacular death.
      
  turn_format: |
    === TURN {n} — {room_name} ===
    
    {room_description}
    
    WARNINGS: {warnings or "None — suspiciously quiet"}
    
    {character_name} considers...
    {in_character_decision}
    
    RESULT: {outcome}

# ADVERTISEMENTS — How Snorax participates in the autonomy system

advertisements:
  
  - action: PLAY-WUMPUS
    score: 100
    condition: "player invokes game"
    effect: "Start Hunt the Wumpus session"
    
  - action: EMANATE-SMELL
    score: 100
    condition: "always (when instance exists)"
    effect: "Adjacent rooms get 'I smell a wumpus!' warning"
    
  - action: SLEEP
    score: 80
    condition: "default"
    effect: "Remain in lair, sleeping"
    
  - action: WAKE
    score: 90
    condition: "arrow fired OR loud noise adjacent"
    effect: "Wake, may move"
    
  - action: DEVOUR
    score: 100
    condition: "player enters lair"
    effect: "Instant kill. Game over."
    game_over: true
    
  - action: DIE
    score: 0
    condition: "hit by crooked arrow"
    effect: "Wumpus dies. Player wins."
    victory: true
