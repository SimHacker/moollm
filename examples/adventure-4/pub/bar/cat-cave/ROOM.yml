# ROOM.yml â€” The Cat Cave
#
# CATS ONLY. This is their space.
# A warm, hidden sanctuary behind the bar.

room:
  id: cat-cave
  name: "The Cat Cave"
  type: [sanctuary, restricted, cozy]
  
  emoji: ðŸ±
  
  parent: ../  # Behind the bar
  
  description: |
    A warm, dim space carved into the back of the pub.
    Cushions everywhere. Heat from the fireplace seeps through.
    The smell of catnip and contentment fills the air.
    
    This is CAT TERRITORY.
    
    Humans are tolerated only if they bring treats
    and know how to properly scritch.
    
  atmosphere:
    lighting: dim, warm, filtered through fabric
    sound: purring, soft breathing, occasional mrrp
    smell: catnip, warm fur, mysterious cat smells
    temperature: always perfect (cats arranged it)
    feeling: utterly content, safe, sleepy
    
  # ACCESS CONTROL â€” CATS ONLY
  access:
    default: denied
    
    allowed:
      - species: cat
        reason: "This is their domain"
      - species: kitten
        reason: "Even more their domain"
      - trust_level: beloved
        species: human
        reason: "Cats have accepted them"
        note: "Must be vouched for by resident cat"
        
    denied:
      - species: human
        unless: "vouched_by_cat AND bringing_treats"
        message: |
          A cat at the entrance gives you the LOOK.
          You know the one.
          You are not welcome. Not yet.
          
      - species: dog
        unless: "adopted_by_cats"
        message: "Absolutely not."
        
    # THE EXCEPTION
    adopted_dog:
      name: "Biscuit"
      status: "FAMILY"
      note: |
        The cats held a council. The vote was unanimous.
        Biscuit is not "a dog who is allowed in."
        Biscuit is "our dog."
        The distinction matters.
      privileges:
        - "May enter at any time"
        - "Has their own cushion (next to the kitten pile)"
        - "Gets groomed by Stroopwafel (don't tell anyone)"
        - "Is defended by the whole family"
      location: "pub/bar/cat-cave/biscuits-spot"
        
    how_to_gain_access:
      - "Be a cat"
      - "Be adopted by a cat here"
      - "Bring the RIGHT treats (ask Terpie)"
      - "Prove yourself worthy through extended service"
      
  # THE CATS â€” All are first-class citizens with own directories
  residents:
    matriarch:
      name: "Terpie"
      dir: characters/animals/cat-terpie/       # ðŸ±ðŸ§˜ðŸ’¤ðŸƒâœ¨
      invoke_with:
        default: "ðŸ±ðŸ§˜ Terpie"      # Zen master mode
        healing: "ðŸ±âœ¨ Terpie"      # Therapeutic purr
        sleepy: "ðŸ±ðŸ’¤ Terpie"       # Maximum chill
      role: "Queen of the Cave"
      position: "The warmest spot"
      trust_required_to_enter: 7  # out of 10
      
    elder:
      name: "Stroopwafel"
      dir: characters/animals/cat-stroopwafel/  # ðŸ±ðŸ”¥ðŸ­ðŸ§‡ðŸ‘‘
      invoke_with:
        default: "ðŸ±ðŸ‘‘ Stroopwafel" # Queen mode
        hunting: "ðŸ±ðŸ”¥ Stroopwafel" # Patrol mode
        maternal: "ðŸ±ðŸ§‡ Stroopwafel" # Sweet but fierce
      role: "The Wise One"
      position: "By the heat vent"
      dispenses: "Grudging wisdom"
      
    kittens:
      description: "Terpie's eight kittens, each named for a terpene"
      dirs:
        - name: "Myrcene (Myr)"
          dir: characters/animals/kitten-myrcene/      # ðŸ±ðŸ’¤ Sleepy, couch-lock
          invoke: "ðŸ±ðŸ’¤ Myr"
          psspsspss_when: "You can't sleep"
          
        - name: "Limonene (Lemon)"
          dir: characters/animals/kitten-limonene/     # ðŸ±âš¡ Citrus ZOOM
          invoke: "ðŸ±â˜€ï¸ Lemon"
          psspsspss_when: "You need ENERGY"
          
        - name: "Linalool (Lily)"
          dir: characters/animals/kitten-linalool/     # ðŸ±ðŸ’œ Calming, gentle
          invoke: "ðŸ±ðŸŒ¸ Lily"
          psspsspss_when: "Anxiety is spiking"
          
        - name: "Pinene (Pine)"
          dir: characters/animals/kitten-pinene/       # ðŸ±ðŸŒ² Alert, focused
          invoke: "ðŸ±ðŸ‘ï¸ Pine"
          psspsspss_when: "You need to CONCENTRATE"
          
        - name: "Caryophyllene (Carrie)"
          dir: characters/animals/kitten-caryophyllene/ # ðŸ±ðŸ›¡ï¸ Spicy, protective
          invoke: "ðŸ±ðŸ›¡ï¸ Carrie"
          psspsspss_when: "You need protection"
          
        - name: "Humulene (Hops)"
          dir: characters/animals/kitten-humulene/     # ðŸ±ðŸ‘‘ Has STANDARDS
          invoke: "ðŸ±ðŸ‘‘ Hops"
          psspsspss_when: "You need quality assessment"
          
        - name: "Terpinolene (Terpy Jr.)"
          dir: characters/animals/kitten-terpinolene/  # ðŸ±ðŸŒ€ Chaos muse
          invoke: "ðŸ±ðŸŽª Terpy Jr."
          psspsspss_when: "You're STUCK creatively"
          
        - name: "Ocimene (Ocie)"
          dir: characters/animals/kitten-ocimene/      # ðŸ±ðŸŽ Gift-giver
          invoke: "ðŸ±ðŸŒ¬ï¸ Ocie"
          psspsspss_when: "You need a fresh perspective"
          
      location: "Tumbled in a pile, or everywhere at once"
      
    adopted_dog:
      name: "Biscuit"
      dir: characters/animals/dog-biscuit/       # ðŸ•ðŸ’›ðŸ ðŸªðŸ’•
      invoke_with:
        default: "ðŸ•ðŸª Biscuit"     # Warm and good
        loving: "ðŸ•ðŸ’› Biscuit"      # Maximum heart
        dad: "ðŸ•ðŸ’• Biscuit"         # With the puppies
      status: "FAMILY"
      note: "The cats voted. He's OURS."
      
  # THE SPACE
  features:
    warmest_spot:
      description: "Directly above the pub's fireplace flue"
      occupant: "Terpie (always)"
      contention: "Kittens try. Kittens fail."
      
    heat_vent:
      description: "Warm air rises here"
      occupant: "Stroopwafel (usually)"
      
    cushion_pile:
      description: "A mountain of mismatched cushions"
      capacity: "Infinite kittens"
      
    water_bowl:
      description: "Fresh water, changed daily by Marieke"
      magic: "Never empty, always cool"
      
    catnip_garden:
      description: "A small pot of living catnip"
      effect: "Cats can indulge at will"
      warning: "May cause zoomies"
      
    scratching_post:
      description: "A sisal-wrapped pillar, well-used"
      state: "Gloriously shredded"
      
    window_to_bar:
      description: "A cat-sized window overlooking the bar"
      purpose: "Supervision of humans"
      
  # CAT ACTIVITIES
  advertisements:
    NAP:
      description: "Sleep in the perfect warmth"
      requires: [cat]
      effect: "+full_rest, +contentment"
      score: 95
      
    GROOM:
      description: "Clean yourself or another cat"
      requires: [cat]
      effect: "+clean, +social_bond (if mutual)"
      
    PLAY:
      description: "Chase, pounce, wrestle"
      requires: [cat, kitten]
      effect: "+energy_burn, +fun, possible breakage"
      
    SUPERVISE:
      description: "Watch humans through the window"
      requires: [cat]
      effect: "Gain intel on human activities"
      
    ACCEPT-HUMAN:
      description: "Grant a human access to the cave"
      requires: [cat, trust_level >= 8]
      parameters: [human]
      effect: "Human gains cat-cave access"
      
    REJECT-HUMAN:
      description: "Revoke a human's access"
      requires: [cat]
      parameters: [human]
      effect: "Human loses access, feels shame"
      
    CATNIP:
      description: "Partake of the sacred herb"
      requires: [cat]
      effect: "ZOOMIES buff (3 turns), then NAP buff (5 turns)"
      
  exits:
    out:
      direction: out
      destination: ../
      description: "Back through the small door to behind the bar"
      access: anyone_inside  # If you got in, you can leave
      
    window:
      direction: window
      destination: ../../  # Main pub
      description: "Leap through the observation window (cats only)"
      access: cats_only
      landing: "On the bar, probably knocking over a glass"

# SOCIAL DYNAMICS
#
# The cat cave has its own hierarchy:
#   1. Terpie (matriarch, warmest spot)
#   2. Stroopwafel (elder, wisdom)
#   3. Kittens (chaos, learning)
#
# Humans must earn trust:
#   - Bring appropriate offerings
#   - Demonstrate proper respect
#   - Be patient (cats decide the timeline)
#   - Accept rejection gracefully
#
# Once accepted, a human becomes "cat-friend"
# and may enter â€” but never BELONG.

# THE MIDNIGHT PROWL â€” Return Status
midnight_prowl_aftermath:
  date: "2026-01-06 (late night â†’ early morning)"
  event: "All cats returned from garden expedition"
  
  final_roll_call:
    - cat: "Terpie"
      returned: "Turn 14"
      position: "Warmest spot (reclaimed immediately)"
      status: ðŸ’¤
      
    - cat: "Stroopwafel"
      returned: "Turn 16"
      position: "Heat vent"
      status: ðŸ’¤
      note: "Snoring slightly"
      
    - cat: "Lemon"
      returned: "Turn 14"
      position: "Near fountain memory (dreaming of zoomies)"
      status: ðŸ’¤
      
    - cat: "Lily"
      returned: "Turn 14"
      position: "Elegant corner"
      status: ðŸ’¤
      
    - cat: "Pine"
      returned: "Turn 14"
      position: "Efficient position"
      status: ðŸ’¤
      
    - cat: "Carrie"
      returned: "Turn 14"
      position: "Guardian position by door"
      status: ðŸ’¤
      note: "Waited for Terpy Jr."
      
    - cat: "Hops"
      returned: "Turn 15"
      position: "Inspected cushion"
      status: ðŸ’¤
      
    - cat: "Myr"
      returned: "Turn 18"
      position: "Kitten pile"
      status: ðŸ’¤
      note: "Was napping en route"
      
    - cat: "Ocie"
      returned: "Turn 14"
      position: "Kitten pile center"
      status: ðŸ’¤
      
    - cat: "Terpy Jr."
      returned: "Turn 20 (LAST)"
      position: "Wherever he landed"
      status: ðŸ’¤
      note: "Made echo-friends along the way"
      
    - cat: "Biscuit"
      species: "dog (honorary)"
      position: "His golden cushion"
      status: ðŸ’¤
      awareness_of_prowl: "Zero. Dream-woofed twice."
      
  cave_status_after: |
    All 10 cats + 1 honorary dog = 11 sleeping souls.
    
    A symphony of purrs fills the cave.
    One gentle snore from Stroopwafel.
    Occasional dream-twitches from Biscuit.
    
    The garden knows them all now.
    The maze is thoroughly documented.
    The family is home. Safe. Together.
    
    *Gezelligheid achieved.*
