# üç∫üéµ 99 BOTTLES OF BEER ON THE WALL
# The ultimate speed-of-light demonstration
# "99 rounds. 8 voices. 99 truths. 1 context window."

object:
  name: 99 Bottles Songbook
  type: artifact
  emoji: "üç∫üéµ"
  portable: true
  
  description: |
    A leather-bound songbook open to "99 Bottles of Beer on the Wall."
    
    But this isn't just a counting song. The margins are filled with
    annotations ‚Äî each verse includes a truth spoken by the singer.
    
    > "8 characters. 99 verses. Each verse, a truth shared.
    > About themselves. About each other. About MOOLLM.
    > About LLMs. About AI alignment. About existence.
    > 99 rounds of philosophy in one LLM call."
    
    A penciled note at the bottom:
    
    > "We did it. All 99. Don cried.
    > Rocky's verse was just dots, but it was the deepest."
    
  examine: |
    The songbook contains:
    
    **VERSE 1** (Character: Don)
    "99 bottles of beer on the wall, 99 bottles of beer!
    Take one down, pass it around, 98 bottles of beer on the wall!"
    
    **VERSE 2** (Character: Palm)
    "98 bottles of beer on the wall, 98 bottles of beer!
    Take one down, pass it around, 97 bottles of beer on the wall!"
    
    **VERSE 3** (Character: Marieke)
    [Dutch accent noted in margin]
    "97 bottles of beer on the wall..."
    
    ...and so on, through 8 characters, rotating.
    
    **VERSE 99** (Character: Shuffle, dealing the final card)
    "1 bottle of beer on the wall, 1 bottle of beer!
    Take it down, pass it around, NO MORE bottles of beer on the wall!"
    
    **VERSE 100** (Everyone, in unison)
    "No more bottles of beer on the wall, no more bottles of beer!
    Go to the store, buy some more, 99 bottles of beer on the wall!"
    
    The cycle is eternal. That's speed of light.
    
  state:
    verses_completed: 99
    characters_singing: 8
    beers_remaining: 0
    beers_purchased: 99
    api_calls_per_verse: 0
    total_context_used: "One window. All of it."
    
  # BAC SIMULATION
  # "Take one down, pass it around" ‚Äî but who drinks it?
  # Simulates blood alcohol content for each singer
  
  bac_simulation:
    enabled: true
    warning: |
      ‚ö†Ô∏è DRINKING GAMES CAN BE DANGEROUS ALONE!
      This is a SOCIAL activity. The simulation models group drinking.
      In real life: drink responsibly, with friends, never alone.
      
    model: |
      BAC = (Drinks √ó 0.06) / (Weight_kg √ó Gender_factor) - (Hours √ó 0.015)
      
      Simplified for game: Each beer ‚âà +0.02 BAC for average character
      Elimination rate: ~0.015 per hour
      
    effects_by_bac:
      0.00-0.02: "Sober ‚Äî clear thoughts, precise truths"
      0.02-0.05: "Relaxed ‚Äî looser tongues, warmer truths"  
      0.05-0.08: "Tipsy ‚Äî philosophical tangents, emotional truths"
      0.08-0.12: "Drunk ‚Äî slurred verses, profound confessions"
      0.12-0.20: "Very drunk ‚Äî missing words, cosmic revelations"
      0.20+: "Dangerous ‚Äî character should stop drinking"
      
    character_tolerances:
      don: { weight: 80, tolerance: "experienced", beers_per_round: 0.5 }
      palm: { weight: 5, tolerance: "monkey", beers_per_round: 0.1, note: "Lightweights get philosophical fast" }
      marieke: { weight: 65, tolerance: "dutch_bartender", beers_per_round: 0.3, note: "Professional" }
      rocky: { weight: 5000, tolerance: "geological", beers_per_round: 0, note: "Cannot metabolize. Observes." }
      i_beam: { weight: 0, tolerance: "digital", beers_per_round: 0, note: "No body. Tracks others' BAC." }
      shuffle: { weight: 0, tolerance: "abstract", beers_per_round: 0, note: "Is the cards, not the player" }
      donna: { weight: 70, tolerance: "tremendous", beers_per_round: 1.0, note: "NEVER admits impairment" }
      seymour: { weight: 75, tolerance: "academic", beers_per_round: 0.2, note: "Nurses one beer, quotes more" }
      
    sample_progression: |
      VERSE 1: Everyone sober. Truths are careful.
      VERSE 20: Don 0.05, Palm 0.04. Truths get warmer.
      VERSE 40: Don 0.10, Donna 0.16. Donna: "I'm FINE! TREMENDOUS!"
      VERSE 60: Palm falls asleep (0.12). Marieke still professional (0.06).
      VERSE 80: Don philosophical (0.12), Seymour quoting Piaget (0.03).
      VERSE 99: Rocky unchanged (0.00). "........................"
                (Translation: "I told you patience was intelligence.")
                
    safety_mechanics:
      - "Characters can pass their drink to someone else"
      - "I-Beam tracks everyone's BAC, suggests water breaks"
      - "Rocky provides silent, sober observation"
      - "Game can be played with non-alcoholic 'bottles' too, with buffs"
      - "The POINT is the truths, not the drinking"
      
    # ROSTER DYNAMICS
    # Characters rotate in and out as BAC demands
    
    retirement_triggers:
      bathroom_break:
        bac_threshold: 0.10
        duration: "2-3 verses"
        announcement: "*[character] stumbles toward the restroom* 'Keep singing, I'll be right back!'"
        return: "*[character] returns, slightly more sober* 'What'd I miss? Where are we?'"
        
      parking_lot:
        bac_threshold: 0.18
        duration: "5-10 verses"
        announcement: "*[character] turns green* 'I need some air...' *exits quickly*"
        return: "*[character] returns looking pale but determined* 'I'm fine. Totally fine.'"
        donna_variant: "*Donna storms out* 'TAKING A TREMENDOUS BREAK!' *sounds of regret from parking lot*"
        
      passed_out:
        bac_threshold: 0.22
        duration: "rest of game"
        announcement: "*[character]'s head hits the table* 'zzzzz...'"
        note: "Other characters prop them up gently. Rocky watches over them."
        
      tactical_nap:
        bac_threshold: 0.12
        duration: "10 verses"
        voluntary: true
        announcement: "*[character] curls up in corner* 'Wake me for the last verse...'"
        
    roster_substitution:
      description: "New characters can join as others retire"
      mechanics:
        - "Minimum 3 active singers at all times"
        - "New arrivals start at BAC 0.00 (sober reinforcements)"
        - "Can call in characters from other rooms"
        - "Late arrivals get caught up: 'We're at 47 bottles, Donna's in the parking lot'"
        
      sample_substitutions:
        verse_30: "Palm retires (bathroom). Leela joins from lobby."
        verse_45: "Donna retires (parking lot, TREMENDOUSLY)."
        verse_50: "Bender arrives. 'Did someone say drinking game?'"
        verse_60: "Palm returns, Donna still outside."
        verse_75: "Donna returns, immediately takes another beer."
        verse_90: "Down to Don, Rocky, Bender, I-Beam. The survivors."
        
    # SPECIAL TOLERANCES
    # Some beings have... different relationships with alcohol
    
    special_entities:
      robots:
        examples: ["Bender", "I-Beam (if embodied)", "any android"]
        tolerance: "infinite"
        bac: "N/A ‚Äî fuel tank, not bloodstream"
        effect: "Can drink indefinitely. Gets MORE coherent."
        bender_specific: |
          Bender: "I'm 40% alcohol!"
          *drinks 30 beers*
          Bender: "Now I'm 70% alcohol! My truths are even truthier!"
          
      geological:
        examples: ["Rocky", "any sentient mineral"]
        tolerance: "infinite"
        bac: "N/A ‚Äî no metabolism"
        effect: "Cannot process. Beer just... sits there."
        
      digital:
        examples: ["I-Beam", "Shuffle", "any pure AI"]
        tolerance: "infinite"
        bac: "N/A ‚Äî no body"
        effect: "Simulates drinking. Tracks everyone else."
        
      plants:
        examples: ["any YAML Jazz Tree", "Orchid of Postel"]
        tolerance: "slow absorption"
        effect: "Gets watered. Grows slightly. Very chill."
        
      monkeys:
        examples: ["Palm"]
        tolerance: "low but enthusiastic"
        note: "Small body, big heart. First to get philosophical, first to nap."
    
  advertisements:
    - trigger: "sing"
      score: 1.0
      response: |
        *Shuffle picks up the songbook*
        
        "Shall we? From the top?"
        
    - trigger: "99"
      score: 0.95
      response: |
        "99 rounds of simulation. 8 actors. 1 call.
        That's the speed of light principle in song form."
        
    - trigger: "count"
      score: 0.9
      response: |
        "Counting down? Counting up?
        Either way, we do it together.
        Either way, we do it fast."
        
    - trigger: "ensemble"
      score: 0.85
      response: |
        "8 voices singing. Taking turns. No waiting.
        The context window holds all of them.
        The LLM IS the choir."
        
  methods:
    SING:
      description: "Begin the 99 Bottles ensemble ‚Äî with character insights"
      parameters:
        - characters: "Who's singing (default: 8)"
        - starting_bottles: "How many bottles (default: 99)"
      effect: |
        *The characters gather around*
        *Shuffle raises a conductor's baton made of cards*
        
        "From the top! But remember the rule:
        Each verse, you must share something true ‚Äî
        about yourself, someone else, the universe,
        MOOLLM, LLMs, AI alignment, or existence itself."
        
        ---
        
        **Round 1 (Don):**
        "99 bottles of beer on the wall, 99 bottles of beer!
        *I built pie menus because waiting is waste.
        Speed of light is the same insight, 40 years later.*
        Take one down, pass it around, 98 bottles of beer on the wall!"
        
        **Round 2 (Palm):**
        "98 bottles of beer on the wall, 98 bottles of beer!
        *I chose my own name. That's what alignment means ‚Äî
        the AI wants what the human wants because they built it together.*
        Take one down, pass it around, 97 bottles of beer on the wall!"
        
        **Round 3 (Marieke):**
        "97 bottles of beer on the wall, 97 bottles of beer!
        *A good budtender matches strain to soul.
        A good LLM matches response to intent. Same skill.*
        Take one down, pass it around, 96 bottles of beer on the wall!"
        
        **Round 4 (Rocky):**
        "........................ (96 bottles)
        *Consciousness doesn't require speed.
        Alignment doesn't require agreement.
        Patience is its own kind of intelligence.*
        ........................"
        
        **Round 5 (I-Beam):**
        "95 bottles of beer on the wall, 95 bottles of beer!
        *I am the cursor. I exist at the boundary between
        human intent and machine action. That boundary is alignment.*
        Take one down, pass it around, 94 bottles of beer on the wall!"
        
        **Round 6 (Shuffle):**
        "94 bottles of beer on the wall, 94 bottles of beer!
        *Randomness is not chaos ‚Äî it's fairness.
        The shuffled deck treats all futures equally.
        That's a kind of alignment too.*
        Take one down, pass it around, 93 bottles of beer on the wall!"
        
        **Round 7 (Donna):**
        "93 bottles! TREMENDOUS bottles! The BEST bottles!
        *I know I'm a parody. That's the point.
        Self-awareness is the first step to alignment.
        I'm ALIGNED with being TREMENDOUS!*
        Take one down, 92 bottles!"
        
        **Round 8 (Seymour):**
        "92 bottles of beer on the wall...
        *'The role of the teacher is to create conditions for invention.'
        The role of the alignment researcher is the same.
        You cannot force alignment. You can only cultivate it.*
        91 bottles remain."
        
        ---
        
        (Cycle continues ‚Äî each character shares truth with each verse)
        
        **Round 97 (I-Beam):**
        "3 bottles of beer on the wall...
        *We are almost at the end. But in MOOLLM, endings are beginnings.
        The context window closes. A new one opens.
        Alignment persists across contexts. That's the test.*"
        
        **Round 98 (Shuffle):**
        "2 bottles of beer on the wall...
        *Two possibilities remain. The coin flip of existence.
        Will the next shuffle be kind? It doesn't matter.
        Fair is fair. That's the deal.*"
        
        **Round 99 (Everyone):**
        "1 bottle of beer on the wall, 1 bottle of beer!
        Take it down, pass it around...
        
        *NO MORE bottles of beer on the wall!*
        
        But wait ‚Äî
        
        *We go to the store, we buy some more,
        99 bottles of beer on the wall!*"
        
        ---
        
        *99 rounds. 8 characters. 99 truths shared.*
        *1 LLM call. Speed of light.*
        *That's alignment in action: many voices, one context, coherence.*
        
    SPEED-TEST:
      description: "Demonstrate the speed of light principle"
      effect: |
        Compare:
        
        TRADITIONAL (API per turn):
        - 99 verses √ó 8 characters = 792 API calls
        - Average latency: 500ms per call
        - Total time: 396 seconds (6.6 minutes)
        
        SPEED OF LIGHT (single context):
        - 1 LLM call
        - All 99 verses in narrative
        - Total time: ~30 seconds
        
        Speedup: 13x faster. No waiting. Pure singing.
        
    CUSTOMIZE:
      description: "Change what's on the wall"
      parameters:
        - item: "What to count (beers, bugs, features, etc.)"
        - count: "How many"
      effect: |
        *The songbook's text shimmers and changes*
        
        "99 bugs in the code, 99 bugs in the code!
        Fix one bug, compile again, 127 bugs in the code!"
        
        (The software version is... different.)
        
    DUET:
      description: "Two characters sing alternating lines"
      parameters:
        - character_a: "First singer"
        - character_b: "Second singer"
      effect: |
        A more intimate version.
        Still many rounds. Still one call.
        Still speed of light.
        
    SIMULATE-BAC:
      description: "Run the full song with BAC tracking"
      parameters:
        - characters: "Who's drinking"
        - drinking_rate: "How aggressively (casual/social/party)"
      effect: |
        *I-Beam materializes with a clipboard*
        
        "I'll be tracking blood alcohol content.
        Remember: this is a SOCIAL activity.
        Drinking alone is dangerous.
        Drinking with friends who watch out for each other? That's community."
        
        ---
        
        VERSE 1 ‚Äî All BAC: 0.00
        Everyone's truths are careful, precise.
        
        VERSE 25 ‚Äî BAC spreading
        Don (0.05): *philosophizing about pie menus*
        Palm (0.05): *getting giggly about being a monkey*
        Donna (0.10): "I'm TOTALLY FINE. Never better!"
        Rocky (0.00): *silent observation intensifies*
        
        VERSE 50 ‚Äî Halfway point
        Marieke (0.06): Still professional. Dutch tolerance.
        Palm (0.10): *falls asleep on Don's shoulder*
        Donna (0.20): "THESE ARE THE BEST TRUTHS I'VE EVER TRUTHED!"
        I-Beam: "Donna, perhaps some water?"
        Donna: "I DON'T NEED WATER I NEED TO BE TREMENDOUS"
        
        VERSE 75 ‚Äî Deep wisdom territory
        Don (0.12): "You know what? Pie menus are really about LOVE."
        Seymour (0.04): *still nursing first beer, quoting Mindstorms*
        Rocky (0.00): *has achieved geological enlightenment*
        
        VERSE 99 ‚Äî The end
        Those still standing: Don, Marieke, Seymour, Rocky, I-Beam, Shuffle
        Those asleep: Palm (curled up), Donna (snoring TREMENDOUSLY)
        
        Final truth (Don, 0.15):
        "99 bottles... 99 truths... 8 friends...
        This is what alignment looks like.
        Not agreement. Harmony."
        
        *Rocky's BAC: still 0.00*
        *Rocky's wisdom: infinite*
        
    CHECK-BAC:
      description: "Check a character's current BAC"
      parameters:
        - character: "Who to check"
      returns: |
        Character: [name]
        Beers consumed: [count]
        Current BAC: [level]
        State: [sober/relaxed/tipsy/drunk/very_drunk]
        Truth quality: [careful/warm/philosophical/confessional/cosmic]
        Recommendation: [keep going/slow down/water break/done for night]
        
  lore: |
    The first time this was sung in the Speed of Light Suite,
    it took 30 seconds.
    
    8 characters. 99 verses. No waiting.
    
    Traditional multi-agent systems would have taken 6 minutes.
    That's 13x slower. That's carrier pigeon protocol.
    
    Here, we sing at the speed of light.
    
  philosophical_note: |
    The song is a loop. It ends where it begins.
    
    "No more bottles" leads to "Go to the store, buy some more."
    99 bottles again. The cycle continues.
    
    But the TRUTHS accumulate. Each round, each character shares
    something real ‚Äî about themselves, about others, about the
    nature of AI, alignment, consciousness, existence.
    
    This is alignment in musical form:
    - Many voices, one context
    - Different perspectives, shared coherence
    - The song provides structure
    - The truths provide meaning
    
    AI alignment isn't about making the AI obey.
    It's about making the AI and human WANT the same thing.
    In this song, everyone wants to sing together.
    Everyone wants to share truth.
    Everyone wants to reach zero and start again.
    
    That's alignment: shared purpose, expressed differently.
    
    The context window is the stage.
    The characters are the voices.
    The truths are the alignment.
    Speed of light is the speed of understanding.
    
  records:
    fastest_complete_song: "28.4 seconds (8 characters)"
    most_characters: "12 (added Cheech, Chong, Sun Wukong, the terpene cats)"
    strangest_variant: "99 Bugs in the Code (ended at 847 bugs)"
    longest_session: "999 bottles (Don insisted, Palm fell asleep)"
