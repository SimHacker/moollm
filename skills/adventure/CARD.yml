# CARD.yml ‚Äî Adventure
#
# SNIFFABLE INTERFACE ‚Äî see SKILL.md for full documentation
# "Every directory is a room. Every file is a clue."

card:
  id: adventure
  name: "Adventure"
  type: [skill, game, simulation, narrative]
  emoji: üó∫Ô∏è
  tier: 1
  tagline: "Every directory is a room. Every file is a clue."
  
  description: |
    The text adventure pattern: directories as rooms, files as clues,
    chat as commands, LLM as dungeon master.
    Turn any filesystem into a navigable world.

inherits: [simulation]

# K-LINES

k-lines:
  activates:
    - ADVENTURE
    - TEXT-ADVENTURE
    - DUNGEON-MASTER
    - ROOM-NAVIGATION
    - CODEBASE-ARCHAEOLOGY
  related:
    - { ref: room, relation: "directories as rooms" }
    - { ref: character, relation: "player and NPCs" }
    - { ref: party, relation: "group dynamics" }
    - { ref: simulation, relation: "parent skill" }

# INVOKE WHEN

invoke_when:
  - "Beginning or resuming a text adventure"
  - "Exploring filesystem as narrative"
  - "Dungeon master narration needed"
  - "Codebase archaeology (exploration as quest)"
  - "Interactive fiction mechanics"

# METHODS ‚Äî signatures only, see SKILL.md for full protocols

methods:
  # Lifecycle
  START:      { signature: "START [adventure_path]", aliases: [RESTART, BEGIN] }
  RESUME:     { signature: "RESUME [adventure_path]" }
  ENSURE-CHARACTER: { signature: "ENSURE-CHARACTER [mode]" }
  CREATE-CHARACTER: { signature: "CREATE-CHARACTER [name]" }
  SAVE:       { signature: "SAVE [name]" }
  RESTORE:    { signature: "RESTORE [name]" }
  
  # Exploration
  LOOK:       { signature: "LOOK (AT [thing])" }
  GO:         { signature: "GO [direction]", note: "n/s/e/w/up/down/in/out" }
  TAKE:       { signature: "TAKE [item]" }
  DROP:       { signature: "DROP [item]" }
  USE:        { signature: "USE [item] (ON [target])" }
  INVENTORY:  { signature: "INVENTORY" }
  
  # Interaction
  TALK:       { signature: "TALK TO [character] (ABOUT [topic])" }
  EXAMINE:    { signature: "EXAMINE [thing]" }
  
  # Debug
  DEBUG-ON:   { signature: "DEBUG-ON", aliases: [DEBUG, VERBOSE] }
  DEBUG-OFF:  { signature: "DEBUG-OFF", aliases: [QUIET, MINIMAL] }

# ADVERTISEMENTS

advertisements:
  RESUME:
    score: 100
    condition: "Continuing session, startup hook, 'where was I?'"
    
  START:
    score: 95
    condition: "Beginning fresh, new game, restart"
    
  DUNGEON-MASTER:
    score: 85
    condition: "Need narrative framing for exploration"
    
  CODEBASE-ARCHAEOLOGY:
    score: 80
    condition: "Investigating unfamiliar codebase as quest"
    
  DEBUG-TOGGLE:
    score: 75
    condition: "Want to see/hide technical details"

# TOOLS

tools:
  required: [read_file, write_file, list_dir]
  optional: [grep]

# ROOM PATTERN (brief ‚Äî see SKILL.md)

room_pattern:
  directory: "room"
  contents: "objects, characters, clues"
  readme: "room description"
  room_yml: "properties and exits"

# STATE SCHEMA (brief ‚Äî see SKILL.md)

state:
  player: [location, inventory, gold, health]
  flags: "puzzles solved, events triggered"
  discovered: "rooms visited"
  output: [LOG.md, TRANSCRIPT.md]

# PARTICIPANTS

participants:
  player: "human via chat"
  npc: "DM (LLM) controlled"
  bot: "action queue (autonomous)"
  agent: "LLM with own goals"

# TEMPLATES

templates:
  - ADVENTURE.yml.tmpl
  - LOG.md.tmpl
  - TRANSCRIPT.md.tmpl

# DOCUMENTATION POINTERS

documentation:
  SKILL.md:
    - "¬ß Lifecycle Methods (START, RESUME, ENSURE-CHARACTER)"
    - "¬ß Exploration Methods (GO, LOOK, TAKE, USE)"
    - "¬ß Debug Mode (collapsible technical logs)"
    - "¬ß State Schema (full player/flags/output)"
    - "¬ß Multi-User (participants and control)"
  events/:
    - "Event templates for adventure errors"

# LINEAGE

lineage:
  - "Gary Gygax & Dave Arneson ‚Äî D&D (1974): DM role"
  - "Colossal Cave Adventure (1976)"
  - "Infocom ‚Äî Zork (1977): Parser, puzzles"
  - "MUD (1978): Multi-user, persistence"
  - "LambdaMOO (1990): OO rooms, verbs"
