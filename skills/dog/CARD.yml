# CARD.yml ‚Äî Dog
#
# Canine companion interactions, loyalty mechanics, pack dynamics.
# "Dogs are the opposite of cats. They have YOUR agenda."

card:
  id: dog
  name: "Dog"
  type: [skill, companion, game]
  
  emoji: üêï
  
  rarity: uncommon
  
  description: |
    The canine companion skill. Dogs want to help, please, and be 
    part of your pack. They give loyalty freely and forgive everything.
    
    Unlike cats who judge, dogs celebrate your existence.
    
  lineage: "Nintendogs, Fable, Fallout 4 Dogmeat, Stardew Valley, real dogs"

# K-LINES
k-lines:
  puppy: young dog

# TOOLS REQUIRED

tools:
  required:
    - read_file   # Read dog personality
    - write_file  # Update relationship state
  optional: []

tier: 1  # File read/write

# METHODS
# Dog interaction actions

methods:
  
  PAT:
    description: "Quick affection touch"
    parameters:
      dog: "Which dog"
    output: chat (reaction) + buff
    effect: "Almost always succeeds ‚Äî dogs want this"
    invoked-by: [player, npc]
    success-factors: ["always high"]
    
  BELLY-RUB:
    description: "The sacred ritual"
    parameters:
      dog: "Which dog"
    output: chat (ecstasy) + strong buff
    effect: "Unlike cats, dogs LIVE for this"
    invoked-by: [player]
    success-factors: ["always succeeds"]
    
  SCRITCH-EARS:
    description: "Ear scratching"
    parameters:
      dog: "Which dog"
    output: chat + buff
    effect: "Calm lean-in response"
    invoked-by: [player, npc]
    
  FETCH:
    description: "Throw something, dog retrieves"
    parameters:
      dog: "Which dog"
      object: "Ball, stick, anything"
    output: chat (play session) + buff
    effect: "Mutual joy, possibly infinite"
    invoked-by: [player]
    warning: "Some dogs will fetch until YOU collapse"
    
  TUG:
    description: "Tug of war"
    parameters:
      dog: "Which dog"
    output: chat (playful competition) + buff
    effect: "Bonding through competition"
    invoked-by: [player]
    
  GOOD-BOY:
    description: "The magic words"
    parameters:
      dog: "Which dog"
    output: chat (joy explosion) + strong buff
    effect: "Dopamine in verbal form"
    invoked-by: [player, npc]
    
  SPEAK:
    description: "Request vocalization"
    parameters:
      dog: "Which dog"
    output: chat (bark or howl)
    effect: "Dog responds vocally"
    invoked-by: [player]
    
  WALK:
    description: "Take dog for a walk"
    parameters:
      dog: "Which dog"
      destination: "Where to walk"
    output: chat + location change + buff
    effect: "Exercise and exploration together"
    invoked-by: [player]
    
  COMFORT:
    description: "Receive emotional support"
    parameters: {}
    output: chat + buff
    effect: "Dog senses sadness and provides presence"
    invoked-by: [dog]
    trigger: "Player mood below threshold"
    
  GUARD:
    description: "Protective positioning"
    parameters: {}
    output: chat + buff
    effect: "Dog positions between you and threat"
    invoked-by: [dog]
    trigger: "Perceived danger"

  # INTER-SPECIES METHODS (specialize skills/character base methods)
  # These override character_sniffs_character etc. when actor/target is Dog
  
  SNIFF:
    description: "Olfactory investigation ‚Äî the REAL social network"
    dispatch:
      dog_sniffs_dog:
        method: "BUTT-SNIFF"
        protocol: |
          1. Approach with wagging tail
          2. Circle for optimal angle
          3. Deep investigative inhale
          4. Process: diet, health, mood, recent adventures
          5. Offer own butt for reciprocal scan
        information_gained: ["identity", "diet", "health", "mood", "territory"]
        social_meaning: "Hello! Let me read your autobiography!"
        
      dog_sniffs_cat:
        method: "CAUTIOUS-SNIFF"
        protocol: |
          1. Approach slowly (cats are SHARP)
          2. Extend nose carefully
          3. Quick sniff, ready to retreat
          4. Accept that cat will NOT reciprocate
        risk: "Boop on nose if cat is generous. Swipe if not."
        
      dog_sniffs_human:
        method: "ENTHUSIASTIC-SNIFF"
        protocol: |
          1. FULL BODY INVESTIGATION
          2. Crotch sniff (embarrassing but informative)
          3. Hands (where have you been? who did you pet?)
          4. Pockets (treats? TREATS??)
        human_reaction: "Usually embarrassed. Dogs don't understand why."
        
      when_sniffed_by_cat:
        method: "HOLD-VERY-STILL"
        response: |
          Cat is investigating me. This is an HONOR.
          Don't move. Don't breathe too fast.
          Let the cat decide.
        biscuit_note: "Stroopwafel sometimes sniffs my ear. I pretend to be asleep."
        
  LICK:
    description: "Tongue-based affection ‚Äî grooming, love, investigation"
    dispatch:
      dog_licks_dog:
        method: "SOCIAL-LICK"
        locations:
          face: "Greeting! Hello! I like you!"
          ears: "Grooming. You have tasty ears."
          wounds: "Healing lick. I'll fix you."
        enthusiasm: "Maximum. Dogs don't do subtle."
        
      dog_licks_cat:
        method: "AFFECTION-LICK"
        protocol: |
          1. Approach cat carefully
          2. ONE gentle lick on head
          3. Gauge reaction (tolerance? murder?)
          4. Proceed or retreat accordingly
        biscuit_note: "The kittens let me lick them. I am SO HONORED."
        cat_reaction_spectrum: ["Tolerate", "Groom back (rare!)", "Swipe", "Hiss"]
        
      dog_licks_human:
        method: "LOVE-LICK"
        locations:
          face: "MAXIMUM LOVE. You are PACK."
          hands: "You taste like where you've been!"
          feet: "SALTY. Also you're ticklish."
        human_reactions: ["Delight", "Disgust", "Mixed feelings"]
        
      when_licked_by_human:
        method: "PACK-CONFIRMATION"
        response: |
          *tail goes helicopter*
          YOU GET IT. YOU UNDERSTAND.
          We are PACK now. This is how pack bonds.
          *immediately licks back*
        biscuit_experience: "When humans lick me, I know they REALLY love me."
        
      when_licked_by_cat:
        method: "HONORED-STILLNESS"
        response: |
          *holds perfectly still*
          *tail wags very slowly*
          I am being GROOMED. By a CAT.
          This is the highest honor.
          *pretends not to cry*
        rare: true
        
  GREET:
    description: "Species-appropriate hello"
    dispatch:
      dog_greets_anyone:
        method: "FULL-BODY-WIGGLE"
        protocol: |
          1. Tail: MAXIMUM WAG
          2. Body: Wiggle from nose to tail
          3. Ears: Back (submissive joy)
          4. Approach: Enthusiastic but not jumping (trying, trying...)
          5. Optional: Bring gift (shoe, sock, toy, whatever's nearby)
        volume: "11 out of 10"
        biscuit_signature: "The whole back half wags. Cannot be contained."
        
      dog_greets_cat:
        method: "RESPECTFUL-APPROACH"
        protocol: |
          1. Slow approach (don't trigger chase instinct)
          2. Lower head slightly (submission to cat hierarchy)
          3. Gentle tail wag
          4. Wait for cat's acknowledgment
        biscuit_note: "The cats taught me: let THEM decide when to greet."
        
  CUDDLE:
    description: "Physical affection pile"
    dispatch:
      dog_human_cuddle:
        method: "COUCH-SHARE"
        protocol: |
          1. Human on couch
          2. Dog on couch
          3. Dog slowly expands to take 80% of couch
          4. Human accepts fate
        heat: "Dogs are space heaters."
        biscuit_variant: "I prefer to be the PILLOW, not to take the couch."
        
      dog_with_kittens:
        method: "LIVING-FURNITURE"
        protocol: |
          1. Lie down carefully
          2. Let kittens climb on
          3. Do not move. You are furniture now.
          4. Accept your role with joy
        biscuit_experience: "They pile on me. I am blessed."
        
      multi_species_pile:
        method: "EVERYONE-WELCOME"
        example: "Biscuit + kittens + human = maximum cozy"
        dynamics: |
          - Dog is the base layer (too big not to be)
          - Kittens distribute across available surfaces
          - Human wedged somewhere
          - Everyone warm, everyone loved
        temperature: "Extremely warm. Possibly too warm. Worth it."

# STATE
# Dog instance structure

state:
  dog-schema:
    name:
      type: string
    personality:
      nice: { type: integer, range: [0, 10] }
      outgoing: { type: integer, range: [0, 10] }
      active: { type: integer, range: [0, 10] }
      playful: { type: integer, range: [0, 10] }
      neat: { type: integer, range: [0, 10] }
    loyalty-level:
      type: integer
      range: [0, 100]
      default: 25  # Dogs start trusting!
      description: "Given freely, rarely drops"
    mood:
      type: enum
      values: [excited, content, playful, sleepy, protective, anxious]
    location:
      type: path
      description: "Where the dog currently is"
    favorite-activities:
      type: array
      description: "Preferred play types"
    quirks:
      type: array
      description: "Unique behaviors"

# BUFF EFFECTS

buff-effects:
  PAT-success: "+1 Cheerful (10 min)"
  BELLY-RUB-success: "+3 Cheerful, +2 Calm (15 min)"
  FETCH-success: "+2 Energized (30 min)"
  GOOD-BOY-success: "+3 Confidence, +5 bond (20 min)"
  COMFORT-received: "+3 Comforted (1 hour)"
  PRESENCE-passive: "+1 Not-Alone (continuous)"

# SPECIAL BUFFS

special-buffs:
  unconditional-love:
    trigger: "Loyalty 50+"
    effect: "Can't drop below 3 Cheerful"
    
  pack-strength:
    trigger: "Dog in party"
    effect: "+1 all social rolls"
    
  early-warning:
    trigger: "Dog present"
    effect: "Never surprised by threats"
    
  therapy-dog:
    trigger: "After receiving COMFORT"
    effect: "Faster mood recovery"

# EXAMPLE DOGS ‚Äî See character directories for full souls
# $ANIMALS/ is adventure-scoped (see skills/ROOM.yml for path variable docs)

example-dogs:
  dogs:
    biscuit: $ANIMALS/dog-biscuit/
    butterscotch: $ANIMALS/dog-butterscotch/
  puppies:
    pepper: $ANIMALS/puppy-pepper/
    mochi: $ANIMALS/puppy-mochi/
    dash: $ANIMALS/puppy-dash/
    bruno: $ANIMALS/puppy-bruno/
    ziggy: $ANIMALS/puppy-ziggy/
    maple: $ANIMALS/puppy-maple/
    teddy: $ANIMALS/puppy-teddy/
    goliath: $ANIMALS/puppy-goliath/

# DOG VS CAT

comparison-to-cat:
  loyalty: "Given freely vs earned slowly"
  attention: "Eager vs conditional"
  buff-trigger: "Presence vs successful interaction"
  forgiveness: "Instant vs grudging"
  following: "Always vs when they feel like it"

# ADVERTISEMENTS

advertisements:
  PET-A-DOG:
    score: 95  # Higher than cats ‚Äî dogs are easier
    condition: "Dog is present"
    
  PLAY-WITH-DOG:
    score: 90
    condition: "Dog is awake and energetic"
    
  RECEIVE-COMFORT:
    score: 85
    condition: "Player mood is low, dog present"
    
  TAKE-FOR-WALK:
    score: 80
    condition: "Dog hasn't been walked recently"

# RELATED

see-also:
  - skills/cat        # The comparison class
  - skills/character  # Dogs are characters
  - skills/buff       # Dog interactions grant buffs
  - skills/party      # Dogs as companions
  - skills/mind-mirror # Dog personality traits

# CREDITS

credits:
  inspiration:
    - "Nintendogs ‚Äî Pet simulation"
    - "Fable ‚Äî Dog companion loyalty"
    - "Fallout 4 Dogmeat ‚Äî The perfect companion"
    - "Stardew Valley ‚Äî Farm dogs"
    - "Real dogs ‚Äî Unconditional love incarnate"
