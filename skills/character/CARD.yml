# CARD.yml â€” Character
#
# SNIFFABLE INTERFACE â€” see SKILL.md for full documentation
# "Characters are BODIES. They have location, inventory, mortality."

card:
  id: character
  name: "Character"
  type: [skill, entity, game]
  emoji: ðŸ§‘
  tier: 1
  tagline: "Characters are BODIES. Personas are COSTUMES."
  
  description: |
    The foundational pattern for any entity that has a location,
    inventory, and relationships. Players, NPCs, creatures, bots â€”
    all are characters.
    
    Characters are BODIES (actors). Personas are COSTUMES (roles).

# FILES INDEX â€” Activate together for full context

files:
  docs:
    - SKILL.md              # Full protocol documentation
    - README.md             # Human landing page
  see_also:
    - skills/persona        # Identity layers
    - skills/buff           # Temporary effects
    - skills/mind-mirror    # Personality modeling
    - skills/incarnation    # Ethical character creation

# K-LINES

k-lines:
  activates:
    - CHARACTER
    - PLAYER-CHARACTER
    - NPC
    - COMPANION
    - INVENTORY
  related:
    - { ref: persona, relation: "identity layers" }
    - { ref: buff, relation: "temporary effects" }
    - { ref: room, relation: "where characters exist" }
    - { ref: incarnation, relation: "ethical creation" }

# INVOKE WHEN

invoke_when:
  - "Create new entity that moves and acts"
  - "Manage character inventory"
  - "Move character between locations"
  - "Track character relationships"
  - "Need multiple dispatch for interactions"

# METHODS â€” signatures only, see SKILL.md for protocols

methods:
  # Lifecycle
  CREATE:       { signature: "CREATE [name] (archetype) (home)" }
  STATUS:       { signature: "STATUS [character]" }
  
  # Movement & Inventory
  MOVE:         { signature: "MOVE [character] TO [destination]" }
  TAKE:         { signature: "TAKE [item]" }
  DROP:         { signature: "DROP [item] (WHERE [location])" }
  
  # Personas
  WEAR:         { signature: "WEAR [persona]", note: "put on identity layer" }
  REMOVE-PERSONA: { signature: "REMOVE-PERSONA" }
  
  # Relationships
  RELATE:       { signature: "RELATE TO [other] AS [feeling]" }
  
  # Inter-character (multiple dispatch base methods)
  SNIFF:        { signature: "SNIFF [target]", dispatch: true }
  LICK:         { signature: "LICK [target]", dispatch: true }
  GREET:        { signature: "GREET [target]", dispatch: true }
  CUDDLE:       { signature: "CUDDLE [targets]", dispatch: true }

# MULTIPLE DISPATCH (brief â€” see SKILL.md)

dispatch:
  principle: "Most specific method wins"
  resolution: [CHARACTER.yml, species-skill, target-skill, base-method]
  example: "dog_sniffs_cat beats character_sniffs_character"
  see: "SKILL.md Â§ Multiple Dispatch Protocol"

# ADVERTISEMENTS

advertisements:
  CREATE-CHARACTER:
    score: 90
    condition: "Need a new entity that moves and acts"
    
  MANAGE-INVENTORY:
    score: 85
    condition: "Pick up, drop, or use items"
    
  CHANGE-PERSONA:
    score: 80
    condition: "Wear or remove an identity layer"
    
  INTER-CHARACTER:
    score: 85
    condition: "Interaction between characters (sniff, greet, etc.)"

# CHARACTER TYPES

types:
  player:    "Controlled by human via chat"
  npc:       "Controlled by DM, responds when addressed"
  companion: "Follows player, has own personality"
  bot:       "Autonomous via action queue"
  agent:     "LLM with own goals and initiative"
  logistic-bot: "Factorio-style carrier"

# STATE SCHEMA (brief â€” see SKILL.md for full)

state:
  fields: [id, name, home, location, inventory, gold, current-persona, sims-traits, mind-mirror, buffs, relationships]
  
  ownership: |
    CHARACTER.yml is CANONICAL for:
    location, inventory, gold, sims_traits, mind_mirror, relationships
    ADVENTURE.yml may mirror for convenience. CHARACTER.yml wins on conflict.

# HOME VS LOCATION (brief â€” see SKILL.md)

location_protocol:
  home: "Directory where CHARACTER.yml lives (never moves)"
  location: "Where character currently IS (changes during play)"
  rule: "Update location field, don't move files"

# INVENTORY PROTOCOL (brief â€” see SKILL.md)

inventory:
  item_types: [object, ref]
  object: "Actual item with weight/bulk"
  ref: "Lightweight pointer to prototype (weight: 0)"
  capacity: "max_weight (~40-50), max_bulk (~8-12)"
  
# TOOLS

tools:
  required: [read_file, write_file, list_dir]
  optional: []

# DOCUMENTATION POINTERS

documentation:
  SKILL.md:
    - "Â§ Multiple Dispatch Protocol"
    - "Â§ Inventory Protocol (object vs ref)"
    - "Â§ State Ownership"
    - "Â§ Home vs Location"
    - "Â§ Logistics Bot Behavior"
    - "Â§ Character Types"

# LINEAGE

lineage: [The Sims, D&D character sheets, MUD player characters]
