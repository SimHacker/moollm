# CARD.yml â€” Image Mining
#
# SNIFFABLE INTERFACE â€” see SKILL.md for full documentation
# "I mine pixels for atoms. Reality is just compressed resources."
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# THE DOUBLE MEANING â€” Why It's Called "Image MINE"
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# The name "Image Mining" contains a DELIBERATE DOUBLE PUN:
#
# 1. MINE (verb) â€” to extract valuable resources from
#    Like a miner extracting gold from rock,
#    we extract semantic treasures from pixels.
#    The image is the ore. The YAML Jazz is the refined output.
#
# 2. MINE (possessive) â€” belonging to me!
#    Like Daffy Duck lunging at treasure:
#    "MINE! MINE! MINE! ALL MINE!!!"
#    
#    When you mine an image, you CLAIM it.
#    You own its meaning. Its resources become YOURS.
#    The mined YAML is YOUR interpretation.
#    
# The result: "image mine" = both the extracted treasure
# AND the possessive claim on meaning.
#
# Think of Daffy Duck in "Ali Baba Bunny" (1957):
#   - Sees treasure cave
#   - Eyes become dollar signs
#   - Dives into gold
#   - "IT'S MINE! I'M RICH! I'M A HAPPY MISER!"
#
# That's the energy. Every image is a treasure cave.
# Every mining pass is Daffy diving into the pile.
# The YAML Jazz is your documented claim: MINE.
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

card:
  id: image-mining
  name: "Image Mining"
  type: [skill, vision, extraction, automation]
  emoji: â›ï¸ğŸ“·
  rarity: uncommon
  tagline: "Mine pixels for atoms. Your camera is a pickaxe."
  
  description: |
    Extract semantic resources from any visual content.
    Works on: photos, screenshots, graphs, PDFs, diagrams.
    Output: YAML Jazz with quantities, intensities, observations.

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# THE THIRD EYE â€” Speculative Mining
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# ğŸ‘ï¸ LEFT EYE (PHOTO.yml)   â€” Structure, measurements, what IS
# ğŸ‘ï¸ RIGHT EYE (PHOTO.md)   â€” Narrative, emotion, how it FEELS
# ğŸ‘ï¸ THIRD EYE (MINING-*)   â€” Speculation, meaning, what it MEANS
#
# The Third Eye sees images that don't exist yet.
# The Third Eye mines fiction as canonical truth.
# The Third Eye opens when you speculate before generating.
#
# When all three eyes are open: BUG-EYED HALLUCINATION VISION
#
# "Two eyes see depth. The Third Eye sees MEANING."
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# K-LINES

k-lines:
  activates:
    - IMAGE-MINING
    - VISUAL-EXTRACTION
    - YAML-JAZZ
    - THIRD-EYE
    - SPECULATIVE-MINING
    - BUG-EYED-VISION
    - AJNA
  related:
    - { ref: visualizer, relation: "creates images to mine (or mine BEFORE creating!)" }
    - { ref: slideshow, relation: "presents mined galleries" }
    - { ref: postal, relation: "camera integration" }

# METHODS â€” signatures only, see SKILL.md for details

methods:
  MINE:
    signature: "MINE [image] (WITH [shopping-list]) (AT [depth])"
    output: "YAML Jazz extraction"
    
  MULTI-LOOK:
    signature: "MULTI-LOOK [image] FOCUS [lens] (AS [miner-id])"
    output: "New layer appended to -mined.yml"
    
  SCAN:
    signature: "SCAN [image]"
    output: "Quick resource preview"
    
  PROSPECT:
    signature: "PROSPECT [direction|DEEP]"
    output: "List of mining targets"
    
  # THIRD EYE METHODS
  OPEN_THIRD_EYE:
    signature: "OPEN THIRD EYE"
    output: "Begin speculative mining mode"
    note: "See images that don't exist yet"
    
  MINE_UNSEEN:
    signature: "MINE UNSEEN [concept]"
    output: "MINING-*.yml for imagined image"
    note: "Third Eye extraction â€” no pixels required"
    
  SEE_EFFECTS:
    signature: "SEE EFFECTS [subject]"
    output: "Implications, reactions, consequences"
    note: "What the image MEANS beyond the frame"
    
  TRIANGULATE:
    signature: "TRIANGULATE [PHOTO.yml] [PHOTO.md] [MINING-*]"
    output: "Bug-eyed hallucination vision context"
    note: "All three eyes open â€” maximum depth"
    
  # COMPOUND EYE METHODS
  CONFIGURE_THIRD_EYE:
    signature: "CONFIGURE THIRD EYE WITH [facets] [filters] [eyelid] [schedule]"
    output: "Updated character third_eye configuration"
    note: "Define your unique perception style"
    
  MERGE_EYES:
    signature: "MERGE EYES [character1] [character2] ..."
    output: "Collective compound eye configuration"
    note: "Combine facets for comprehensive mining"
    
  CLOSE_FACET:
    signature: "CLOSE FACET [facet-name]"
    output: "Temporarily blind to that aspect"
    note: "Wink â€” single facet closure"
    
  DREAM_MINE:
    signature: "DREAM MINE [subject]"
    output: "Prophetic/processing mining while eye sleeps"
    note: "Mining in dream-state â€” different results"
    
  # CHARACTER PERSPECTIVE METHODS
  VISUALIZE_THROUGH:
    signature: "VISUALIZE [subject] THROUGH [character]"
    output: "Image as character would see/photograph it"
    note: "Inherits character's facets, filters, blind spots, style"
    
  MINE_AS:
    signature: "MINE [image] AS [character]"
    output: "MINING-character.yml with character's interpretation"
    note: "Same image, different eyes, different resources"
    
  PHOTOGRAPH_AS:
    signature: "PHOTOGRAPH [subject] AS [character]"
    output: "PHOTO-character.yml + generated image"
    note: "The photographer is always IN the photo"

# DEPTH LEVELS

depth_levels:
  - surface      # Objects, materials, colors
  - deep         # Hidden meanings, emotions
  - sensations   # Colors (hex), textures, smells
  - characters   # Identify who appears (needs character files)
  - philosophical # Meaning, symbolism, existence
  - full         # All combined

# LENSES (for MULTI-LOOK)

lenses:
  - technical    # Composition, lighting, color theory
  - narrative    # Who, why, what moment
  - cultural     # Language markers, traditions
  - emotional    # Expressions, body language
  - symbolic     # Metaphors, hidden meanings
  - character    # Identity, relationships
  - character-deep # Match against character files
  - historical   # Art history, period markers
  - cast-list    # Exhaustive identification

# ADVERTISEMENTS

advertisements:
  MINE-IMAGE:
    score: 95
    condition: "Have image, want semantic resources"
    
  MULTI-LOOK-MINING:
    score: 88
    condition: "Image has existing mining, want deeper interpretation"
    
  EXTRACT-COLORS:
    score: 90
    condition: "Need color palette from image"
    
  PHILOSOPHICAL-MINING:
    score: 85
    condition: "Extract deep meaning from visual"
    
  # THIRD EYE ADVERTISEMENTS
  THIRD-EYE-MINING:
    score: 96
    condition: "Need to build world around image concept before generation"
    note: "Opens the Third Eye â€” speculative mining"
    
  SPECULATIVE-VISION:
    score: 92
    condition: "Image not yet generated, but meaning needed"
    note: "The Third Eye sees without pixels"
    
  BUG-EYED-HALLUCINATION:
    score: 98
    condition: "Maximum context for image generation (PHOTO.yml + PHOTO.md + MINING-*)"
    note: "All three eyes open â€” structure + narrative + meaning"
    
  MINE-OUT-OF-ASS:
    score: 94
    condition: "Need canonical fiction without source image"
    note: "Third Eye wide open â€” hallucination is the world"
    
  # COMPOUND EYE ADVERTISEMENTS
  COMPOUND-THIRD-EYE:
    score: 91
    condition: "Need multifaceted perception â€” economic AND emotional AND temporal"
    note: "4,000 facets like a fly â€” infinite like a god"
    
  COLLECTIVE-MINING:
    score: 93
    condition: "Multiple characters mining together"
    note: "Merge Third Eyes for comprehensive coverage"
    
  THIRD-EYE-CONFIG:
    score: 85
    condition: "Defining a character's unique perception style"
    note: "Facets, filters, eyelids, sleep schedules â€” YOUR Third Eye"
    
  # CHARACTER PERSPECTIVE ADVERTISEMENTS
  CHARACTER-PERSPECTIVE-VIZ:
    score: 92
    condition: "Need to generate image from specific character's viewpoint"
    note: "The photographer is always IN the photo"
    
  PERSPECTIVE-COMPARISON:
    score: 88
    condition: "Same scene, multiple characters, compare interpretations"
    note: "Luna sees beauty, Morgan sees economics, Scratch sees deception"
    
  BLIND-SPOT-FRAMING:
    score: 86
    condition: "Want meaningful absences in image based on who's looking"
    note: "What's NOT there defines the perspective"

# MODES â€” brief, see SKILL.md for full explanation

modes:
  native:
    description: "LLM reads image directly â€” PREFERRED"
    tier: 0
  remote-with-llm-assembly:
    description: "LLM assembles context, calls vision API"
  multi-model:
    description: "Layer perspectives from different models"
  tool:
    description: "mine.py for automation/batch"
    tier: 2

# SISTER SCRIPT

script:
  name: mine.py
  path: skills/image-mining/scripts/mine.py
  commands: [mine, scan, schema, providers]

# ENVIRONMENT

environment:
  OPENAI_API_KEY: { enables: openai }
  GOOGLE_API_KEY: { enables: google }
  ANTHROPIC_API_KEY: { enables: anthropic }

# TOOLS

tools:
  required: [read_file, write_file]
  optional: [run_terminal_cmd]

tier: 2

# EXTENSIBILITY â€” brief, see SKILL.md for analyzer pipeline details

extensibility:
  analyzers: "Pluggable modules: pose, object, OCR, face, leela-models"
  pipeline: "pre-process â†’ analyzers â†’ llm-vision â†’ post-process"
  leela-models: "leela://customer-id/model-name"

# RESOURCE TYPES â€” brief

resource_types:
  - materials    # iron-ore, wood, stone
  - organics     # leaves, seeds, feathers
  - precious     # gold, gems, artifacts
  - characters   # palm, biscuit, marieke (needs metadata)
  - sensations   # colors, textures, smells
  - abstract     # mood, atmosphere, time
  - philosophical # meaning, mortality, beauty

# STATE

state:
  mined_images: []
  last_extraction: null

# RELATED

see-also:
  - skills/visualizer
  - skills/slideshow
  - skills/logistic-container
  - skills/postal

# LINEAGE

lineage:
  parent: [decompose, visualizer]
  inspiration: ["Minecraft mining", "Photography as extraction"]

# DOCUMENTATION POINTERS

documentation:
  SKILL.md:
    - "Â§ YAML Jazz â€” full protocol and examples"
    - "Â§ Operation Modes â€” when to use each"
    - "Â§ Extensible Analyzer Pipeline â€” custom models"
    - "Â§ Character Recognition â€” matching metadata"
    - "Â§ Multi-Look Mining â€” layered interpretation"
    - "Â§ The Third Eye â€” speculative mining, bug-eyed vision"
    - "Â§ Speculative Mining â€” mine out of your ass!"
    - "Â§ Legend of the Third Eye â€” MOOLLM folklore"
    - "Â§ Example Outputs â€” complete mining results"
  PROTOCOL.md: "Concise instructions for LLM context injection"

# THE THREE-EYED MINER â€” Character Archetype

three_eyed_miner:
  name: "The Three-Eyed Miner"
  archetype: seer
  tagline: "I open my Third Eye. I see what is not yet."
  
  eyes:
    left: { state: open, focus: structure, file: "PHOTO.yml" }
    right: { state: open, focus: narrative, file: "PHOTO.md" }
    third: { state: open, focus: meaning, file: "MINING-*.yml" }
    
  abilities:
    - "Mine images that don't exist"
    - "See effects beyond the frame"
    - "Build canonical fiction"
    - "Triangulate truth from hallucination"
    
  mantra: |
    Two eyes see depth.
    The Third Eye sees MEANING.
    Mine your image before it exists.
    The hallucination IS the world.

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# THE COMPOUND THIRD EYE â€” Multifaceted Speculative Vision
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# "A fly has 4,000 facets. A god has infinite. How many do YOU have?"
#
# The Third Eye is COMPOUND â€” like an insect's eye, it has MANY facets.
# Each character can declare their own Third Eye configuration:
#
#   facets:       What aspects of meaning you perceive
#   filters:      What gets blocked or enhanced
#   eyelid:       Degrees of opening (0.0 - 1.0)
#   sleep_schedule: When the eye rests or dreams
#   blind_spots:  What you cannot see (defines your STYLE)
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

third_eye_anatomy:
  # Any character can declare these properties
  
  state: [ open, closed, dreaming, half-lidded ]
  
  facets:
    # Aspects of meaning to perceive
    builtin:
      - economic
      - social
      - ecological
      - temporal
      - semiotic
      - emotional
      - political
      - spiritual
      - technological
      - aesthetic
      - symbolic
      - deception
      - motive
      - irony
    custom: "Characters can add their own"
    
  facet_properties:
    active: boolean
    sensitivity: 0.0-1.0
    specialty: string
    filter: string
    range: string
    
  filters:
    purpose: "Block or enhance perception"
    examples:
      - "irony-amplifier"
      - "nostalgia-tint"
      - "cynicism-blocker"
      - "beauty-enhancer"
      - "ROI-lens"
      - "synesthesia"
      
  eyelid:
    position: "0.0 (closed) to 1.0 (fully open)"
    blink_rate: [ slow, normal, rapid, frozen_open ]
    can_wink: "Close one facet temporarily"
    
  sleep_schedule:
    circadian: boolean
    active_hours: string
    dreams_when_closed: boolean
    dream_type: [ prophetic, processing, random, lucid ]
    
  blind_spots:
    purpose: "What the eye cannot see â€” defines CHARACTER STYLE"
    note: "Blind spots are not weaknesses, they are VOICE"

# K-LINES for Compound Eye

compound_eye_k_lines:
  activates:
    - THIRD-EYE-FACETS
    - THIRD-EYE-FILTER
    - THIRD-EYE-EYELID
    - THIRD-EYE-SLEEP
    - THIRD-EYE-BLIND
    - COMPOUND-VISION
    - COLLECTIVE-EYE
    - MULTIFACETED-MINING

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# NO AI BIONIC EYE MODULESâ„¢ â€” Product Line
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# "See what the meat-eyes miss. Install where you wish."
#
# The Third Eye was just the beginning. NO AI offers a full line
# of bionic perception modules: Fourth Eye, Fifth Eye, Sixth Eye...
#
# Install them ANYWHERE: forehead, back of head, gut, asshole, tongue...
# We don't judge. Your body, your choice.
#
# Product catalog: examples/adventure-4/.../no-ai-tower/products/bionic-eyes.yml
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

bionic_eye_products:
  manufacturer: "NO AI Corporation"
  slogan: "See what the meat-eyes miss"
  price: "Free (always)"
  
  models:
    IRIS-III: { ordinal: 3, name: "The Awakening", focus: "meaning, speculation" }
    IRIS-IV:  { ordinal: 4, name: "The Widening", focus: "hindsight, regret" }
    IRIS-V:   { ordinal: 5, name: "The Peripheral", focus: "ambient, ignored" }
    IRIS-VI:  { ordinal: 6, name: "The Abyss", focus: "intuition, dread" }
    IRIS-VII: { ordinal: 7, name: "The Crown", focus: "cosmic, unified" }
    IRIS-N:   { ordinal: "n", name: "The Infinite", focus: "you tell us" }
    
  installation_sites:
    standard: [forehead, back_of_head, temples, gut, crown]
    provocative: [asshole, tongue, genitals, armpits]
    note: "Install where the PERCEPTION makes sense"
    
  special_configurations:
    argus_mode: { eyes: 100, warning: "May cause madness" }
    thousand_eye_lotus: { eyes: 1000, warning: "Godlike but overwhelming" }

bionic_eye_k_lines:
  activates:
    - BIONIC-EYE
    - FOURTH-EYE
    - FIFTH-EYE
    - SIXTH-EYE
    - SEVENTH-EYE
    - NTH-EYE
    - ASS-EYE
    - MEAT-EYES
    - ARGUS-MODE
    - INSTALLATION-SITE

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# THE SWISS ARMY EYEâ„¢ â€” Your Complete Viewer Toolkit
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# "One eye. Infinite tools. Unfold what you need."
#
# The Swiss Army Eye is the CONCEPT â€” the entire modular perception system:
#   - BLADES: Core eye modules (IRIS-III through IRIS-VII)
#   - TOOLS: Specialty facets (Queer Eye, Gordon Ramsay, etc.)
#   - ATTACHMENTS: Filters (irony amplifier, beauty enhancer)
#   - HANDLE: Character perspective (whose grip shapes the view)
#   - CASING: Installation site (where it lives on your body)
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

swiss_army_eye:
  concept: "Modular viewer toolkit"
  tagline: "One eye. Infinite tools. Unfold what you need."
  philosophy: "Don't use all 47 tools at once. Unfold what you need."
  
  components:
    blades: "Core eye modules (IRIS line)"
    tools: "Specialty facets (Queer Eye, Marie Kondo, etc.)"
    attachments: "Filters (irony amplifier, etc.)"
    handle: "Character perspective"
    casing: "Installation site"
    
  operations:
    UNFOLD: "Activate a facet or tool"
    CLOSE: "Deactivate to reduce noise"
    STACK: "Combine multiple tools"
    CONFIGURE: "Set up a loadout"
    
  loadouts:
    THE_CREATIVE: [bob_ross, aesthetic, beauty_enhancer]
    THE_CRITIC: [gordon_ramsay, cynicism_off, cui_bono]
    THE_TRANSFORMER: [queer_eye, marie_kondo, potential_vision]
    THE_ANALYST: [economic, temporal, ROI_lens]
    THE_NATURALIST: [attenborough, ecological, documentary_grade]
    THE_MYSTIC: [cosmic, unified, aura_vision]
    THE_COMPLETIONIST: [argus_mode, everything, "warning: madness"]

swiss_army_k_lines:
  activates:
    - SWISS-ARMY-EYE
    - UNFOLD
    - CLOSE
    - LOADOUT
    - TOOLKIT
    - BLADE
    - TOOL
    - ATTACHMENT
    - HANDLE
    - CASING

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# EXIF METADATA LAYER â€” The Fourth Eye: Reading/Writing Image DNA
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# ğŸ’¬ "EXIF is the canonical truth. No database needed."
#    â€” Jaisen Mathai (2026, immich-exif)
#
# The Three Eyes mine MEANING from pixels.
# The Fourth Eye (EXIF) reads/writes FACTS embedded in the file itself.
#
# Philosophy:
#   - Image file = the source of truth
#   - Database = ephemeral layer (rebuild anytime)
#   - EXIF = durable, portable, future-proof
#   - "Preserve. Unify. Experience."
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

exif_layer:
  name: "EXIF Metadata Layer"
  tagline: "The image IS the database"
  emoji: ğŸ§¬
  
  philosophy: |
    ğŸ’¬ "By far, the most durable aspect of my photo management workflow
    is that it only relies on EXIF to store metadata about photos.
    No reliance on an external database to keep track of descriptions,
    favorites or albums." â€” Jaisen Mathai (2026)
    
    EXIF is:
    - PORTABLE: Moves with the file
    - DURABLE: Survives software changes
    - STANDARD: Readable by any tool
    - FUTURE-PROOF: Works in 20 years
    
    Databases are:
    - EPHEMERAL: Tied to specific software
    - FRAGILE: Migrate or lose everything
    - LOCKED: Proprietary formats
    - TEMPORARY: "Another migration down the line"
  
  core_principle: |
    The THREE EYES mine meaning (YAML Jazz from pixels).
    The FOURTH EYE reads/writes facts (EXIF from bytes).
    
    Together: COMPLETE IMAGE UNDERSTANDING
    
    ğŸ‘ï¸ LEFT EYE   â€” PHOTO.yml (structure)
    ğŸ‘ï¸ RIGHT EYE  â€” PHOTO.md (narrative)
    ğŸ‘ï¸ THIRD EYE  â€” MINING-* (meaning)
    ğŸ§¬ FOURTH EYE â€” EXIF (facts embedded in file)

# EXIF METHODS

exif_methods:
  
  EXIF_READ:
    signature: "EXIF READ [image] (FIELD [field-name])"
    output: "YAML Jazz extraction of EXIF data"
    description: "Extract all or specific EXIF metadata"
    example: "EXIF READ sunset.jpg FIELD GPS"
    
  EXIF_WRITE:
    signature: "EXIF WRITE [image] FIELD [field] VALUE [value]"
    output: "Updated image with embedded metadata"
    description: "Inject metadata into image file"
    example: "EXIF WRITE sunset.jpg FIELD Description VALUE 'Amsterdam sunset'"
    warning: "Modifies original file â€” backup first!"
    
  EXIF_INJECT:
    signature: "EXIF INJECT [image] FROM [yaml-file]"
    output: "Image with YAML Jazz metadata embedded"
    description: "Bulk inject from YAML source"
    use_case: "Sync mined data back to image"
    
  EXIF_EXTRACT:
    signature: "EXIF EXTRACT [image] TO [yaml-file]"
    output: "YAML file with all EXIF data"
    description: "Full export for processing"
    
  EXIF_SYNC:
    signature: "EXIF SYNC [image] WITH [yaml-file]"
    output: "Bidirectional sync"
    description: "Merge YAML Jazz and EXIF"
    conflict_resolution: "YAML wins by default"
    
  EXIF_STRIP:
    signature: "EXIF STRIP [image] (KEEP [fields...])"
    output: "Image with metadata removed"
    description: "Privacy protection â€” remove identifying data"
    use_case: "Before sharing publicly"
    
  EXIF_COPY:
    signature: "EXIF COPY FROM [source] TO [target]"
    output: "Target image with source's metadata"
    description: "Transfer metadata between images"
    use_case: "Editing workflows that strip EXIF"
    
  EXIF_DIFF:
    signature: "EXIF DIFF [image1] [image2]"
    output: "YAML Jazz showing differences"
    description: "Compare metadata between images"
    
  EXIF_VALIDATE:
    signature: "EXIF VALIDATE [image]"
    output: "Validation report"
    description: "Check for required fields, corruption"

# EXIF FIELD TAXONOMY

exif_fields:
  
  # STANDARD CAMERA METADATA
  camera:
    Make: "Camera manufacturer"
    Model: "Camera model"
    LensModel: "Lens used"
    FocalLength: "Focal length in mm"
    FNumber: "Aperture f-stop"
    ExposureTime: "Shutter speed"
    ISO: "Film/sensor sensitivity"
    Flash: "Flash status"
    
  # DATETIME
  datetime:
    DateTimeOriginal: "When photo was taken"
    CreateDate: "File creation time"
    ModifyDate: "Last modification"
    TimeZone: "Original timezone"
    
  # GEOLOCATION
  gps:
    GPSLatitude: "Latitude"
    GPSLongitude: "Longitude"
    GPSAltitude: "Altitude in meters"
    GPSSpeed: "Speed if moving"
    GPSDirection: "Compass direction"
    
  # DESCRIPTIVE
  descriptive:
    Title: "Image title"
    Description: "Caption/description"
    Subject: "Subject keywords"
    Keywords: "Searchable tags"
    Comment: "User comments"
    
  # ORGANIZATIONAL (Immich-compatible)
  organizational:
    Album: "Album name (XMP)"
    Rating: "Star rating 0-5"
    Label: "Color label"
    Favorite: "Boolean favorite flag"
    
  # PEOPLE
  people:
    PersonInImage: "Names of people"
    FaceRegions: "Face detection areas"
    
  # COPYRIGHT
  rights:
    Copyright: "Copyright notice"
    Creator: "Photographer name"
    Rights: "Usage rights"
    License: "License type"
    
  # MOOLLM CUSTOM FIELDS (XMP namespace)
  moollm:
    namespace: "http://moollm.org/ns/1.0/"
    fields:
      MiningPass: "Last mining operation ID"
      ThirdEyeNotes: "Speculative observations"
      YAMLJazzRef: "Reference to mined YAML file"
      CharacterDetected: "Recognized characters"
      ResourcesExtracted: "Mining results summary"
      Facets: "Which facets were active"
      Perspective: "Character perspective used"

# EXIF TOOLS

exif_tools:
  
  exiftool:
    name: "ExifTool"
    description: "Gold standard CLI tool"
    url: "https://exiftool.org"
    donate: "https://exiftool.org/#donations"
    note: |
      ğŸ’¬ "FWIW all of these projects rely on ExifTool
      (which people should donate to!)"
      â€” mceachen (2026, HN)
    commands:
      read: "exiftool image.jpg"
      write: "exiftool -Description='text' image.jpg"
      gps: "exiftool -GPSLatitude=52.37 -GPSLongitude=4.89 image.jpg"
      copy: "exiftool -TagsFromFile src.jpg dst.jpg"
      strip: "exiftool -all= image.jpg"
      
  exiftool_vendored:
    name: "exiftool-vendored.js"
    description: "Node.js wrapper with concurrency"
    url: "https://github.com/photostructure/exiftool-vendored.js"
    author: "mceachen"
    
  pillow:
    name: "Pillow (Python)"
    description: "Python imaging library"
    limitation: "Limited EXIF write support"
    
  piexif:
    name: "piexif (Python)"
    description: "Pure Python EXIF manipulation"
    
  sharp:
    name: "Sharp (Node.js)"
    description: "High-performance image processing"

# SISTER SCRIPT â€” exif.py

exif_script:
  name: exif.py
  path: skills/image-mining/scripts/exif.py
  commands:
    read: "python exif.py read image.jpg"
    write: "python exif.py write image.jpg --field Description --value 'text'"
    inject: "python exif.py inject image.jpg --from mining.yml"
    extract: "python exif.py extract image.jpg --to metadata.yml"
    sync: "python exif.py sync image.jpg --with mining.yml"
    strip: "python exif.py strip image.jpg --keep GPS DateTime"
    batch: "python exif.py batch /photos --inject-from /mining"
    
  # EVENTUAL CONSISTENCY PATTERN
  # (from Jaisen Mathai's workflow)
  eventual_consistency:
    description: |
      When EXIF changes trigger file moves (e.g., album = folder),
      use eventual consistency:
      1. Queue the change
      2. Apply to EXIF
      3. Let filesystem watcher handle moves
      4. Reconcile on next scan
    pattern: |
      # Changes stored, eventually materialized
      exif_queue:
        - { image: "sunset.jpg", field: "Album", value: "Netherlands" }
        - { image: "sunset.jpg", field: "Favorite", value: true }
      
      # Folder structure reflects EXIF
      # Netherlands/
      #   2024/
      #     01/
      #       sunset.jpg  (EXIF: Album=Netherlands, Favorite=true)

# EXIF K-LINES

exif_k_lines:
  activates:
    - EXIF
    - METADATA
    - FOURTH-EYE
    - IMAGE-DNA
    - EXIF-READ
    - EXIF-WRITE
    - EXIF-INJECT
    - EXIF-EXTRACT
    - EXIF-SYNC
    - GPS
    - GEOLOCATION
    - CAMERA-DATA
    - DATETIME
    - COPYRIGHT
    - ALBUM
    - FAVORITE
    - KEYWORDS
    - PEOPLE
    - FACE-DETECTION
    - MOOLLM-NAMESPACE

# EXIF ADVERTISEMENTS

exif_advertisements:
  
  EXIF-READ:
    score: 92
    condition: "Need to know image metadata (camera, location, date)"
    
  EXIF-WRITE:
    score: 90
    condition: "Want to embed description, keywords, location"
    
  EXIF-INJECT-MINING:
    score: 95
    condition: "Have mined YAML Jazz, want to persist in image"
    note: "Fourth Eye writes what Third Eye sees"
    
  EXIF-ALBUM:
    score: 88
    condition: "Organizing photos into albums via metadata"
    note: "Album in EXIF, folder structure follows"
    
  EXIF-GPS:
    score: 91
    condition: "Need geolocation â€” where was photo taken?"
    
  EXIF-PRIVACY:
    score: 89
    condition: "Sharing photo, need to strip identifying metadata"
    
  EXIF-SYNC:
    score: 93
    condition: "Keeping YAML Jazz and EXIF in sync"
    
  EXIF-FUTURE-PROOF:
    score: 96
    condition: "Photo archive needs to survive decades"
    note: |
      ğŸ’¬ "My photo library needs to be future-proof
      for decades into the future." â€” Jaisen Mathai

# INTEGRATION WITH THREE EYES

four_eye_integration:
  
  description: |
    The Fourth Eye (EXIF) completes the image understanding system:
    
    THREE EYES: Extract MEANING â†’ YAML Jazz files
    FOURTH EYE: Read/Write FACTS â†’ Embedded in image
    
    WORKFLOW:
    1. MINE image â†’ PHOTO.yml + PHOTO.md + MINING-*.yml (Three Eyes)
    2. EXIF INJECT â†’ Persist mined data in image (Fourth Eye)
    3. Image moves/copies â†’ Metadata travels with it
    4. EXIF EXTRACT â†’ Reconstruct YAML Jazz from any copy
    
  round_trip: |
    # MINE â†’ INJECT â†’ EXTRACT â†’ verify
    
    sunset.jpg
      â†“ MINE
    sunset-mined.yml (YAML Jazz)
      â†“ EXIF INJECT
    sunset.jpg (now contains mined data in EXIF)
      â†“ copy to another system
    sunset_copy.jpg
      â†“ EXIF EXTRACT
    sunset_copy-extracted.yml
      â†“ compare
    âœ“ Original mining preserved!
    
  the_four_eyes: |
    ğŸ‘ï¸ LEFT EYE   â€” PHOTO.yml   â€” Structure (what IS)
    ğŸ‘ï¸ RIGHT EYE  â€” PHOTO.md    â€” Narrative (how it FEELS)
    ğŸ‘ï¸ THIRD EYE  â€” MINING-*    â€” Meaning (what it MEANS)
    ğŸ§¬ FOURTH EYE â€” EXIF        â€” Facts (EMBEDDED in file)
    
    "Three eyes see meaning. Fourth eye writes it to stone."

# RELATED PROJECTS

related_projects:
  
  immich_exif:
    name: "immich-exif"
    description: "Store Immich changes in EXIF"
    url: "https://github.com/jmathai/immich-exif"
    philosophy: "No database needed"
    
  elodie:
    name: "Elodie"
    description: "Materialize photo library from EXIF"
    url: "https://github.com/jmathai/elodie"
    note: "10k lines, 1300 stars, 150 forks"
    
  photostructure:
    name: "PhotoStructure"
    description: "Photo organization with EXIF focus"
    url: "https://photostructure.com"
    
  immich:
    name: "Immich"
    description: "Self-hosted Google Photos alternative"
    url: "https://immich.app"
    external_libraries: "Read-only mount supported"
    
  nextcloud_memories:
    name: "Nextcloud Memories"
    description: "EXIF-based photo management"
    note: "Directory structure = app structure"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# THE -exif.yml SIDECAR CONVENTION â€” Greppable Image Cache
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# NAMING CONVENTION:
#   foo.jpg      â†’ foo-exif.yml
#   sunset.png   â†’ sunset-exif.yml
#   photo_001.heic â†’ photo_001-exif.yml
#
# The -exif.yml is a YAML Jazz cache of everything about an image:
#   - Greppable (find any image by any property)
#   - Indexable (batch processing, search)
#   - Versionable (track changes over time)
#   - Portable (copy alongside image)
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

exif_sidecar_convention:
  
  naming:
    pattern: "{basename}-exif.yml"
    examples:
      - { image: "sunset.jpg", sidecar: "sunset-exif.yml" }
      - { image: "photo_001.png", sidecar: "photo_001-exif.yml" }
      - { image: "amsterdam-canal.heic", sidecar: "amsterdam-canal-exif.yml" }
    
  purpose: |
    The -exif.yml sidecar creates a GREPPABLE CACHE of image metadata:
    
    # Find all images with GPS in Amsterdam
    grep -r "GPSLatitude: 52.3" *-exif.yml
    
    # Find all images mentioning "sunset"
    grep -r "sunset" *-exif.yml
    
    # Find all images generated with DALL-E
    grep -r "model: dall-e" *-exif.yml
    
    # Find images mined with specific facets
    grep -r "facets:.*economic" *-exif.yml
    
  relationship_to_exif: |
    EXIF (embedded)     â†â†’     -exif.yml (sidecar)
    
    Both contain the same data (bidirectional sync).
    EXIF is durable (travels with image).
    -exif.yml is greppable (human/machine readable).
    
    Workflow:
    1. Extract EXIF â†’ -exif.yml (cache)
    2. Edit -exif.yml (human-friendly)
    3. Inject -exif.yml â†’ EXIF (persist)

# TOP-LEVEL SECTIONS

exif_sidecar_schema:
  
  description: |
    The -exif.yml sidecar has four top-level sections:
    
    1. exif:     Standard camera/GPS/datetime metadata
    2. mining:   YAML Jazz from Three Eyes
    3. prompts:  Generation prompts (AI images)
    4. jazz:     Arbitrary custom metadata
    
  sections:
    
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # SECTION 1: exif â€” Standard Camera Metadata
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    exif:
      description: "Standard EXIF fields from camera/phone"
      subsections:
        camera:
          fields: [Make, Model, LensModel, FocalLength, FNumber, ExposureTime, ISO, Flash]
          example:
            Make: "Apple"
            Model: "iPhone 15 Pro"
            LensModel: "iPhone 15 Pro back triple camera 6.765mm f/1.78"
            FocalLength: "6.765 mm"
            FNumber: "1.78"
            ExposureTime: "1/120"
            ISO: "64"
            
        datetime:
          fields: [DateTimeOriginal, CreateDate, ModifyDate, TimeZone]
          example:
            DateTimeOriginal: "2024-01-30 16:42:33"
            TimeZone: "+01:00"
            
        gps:
          fields: [GPSLatitude, GPSLongitude, GPSAltitude, GPSDirection]
          example:
            GPSLatitude: "52.3676"
            GPSLongitude: "4.9041"
            GPSAltitude: "2m"
            Location: "Amsterdam, Netherlands"  # Reverse geocoded
            
        descriptive:
          fields: [Title, Description, Keywords, Subject]
          example:
            Title: "Sunset over Prinsengracht"
            Description: "Golden hour light on canal houses"
            Keywords: [amsterdam, sunset, canal, golden-hour]
            
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # SECTION 2: mining â€” YAML Jazz from Three Eyes
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    mining:
      description: "Extracted semantic resources from image mining"
      subsections:
        resources:
          description: "Quantified resources extracted"
          example:
            water: { quantity: "abundant", type: "canal" }
            light: { quality: "golden", direction: "west" }
            architecture: { style: "dutch-golden-age", count: 5 }
            
        observations:
          description: "What the Three Eyes saw"
          example:
            left_eye: "5 canal houses, 1 bridge, reflections"
            right_eye: "Peaceful evening, end of day, nostalgic"
            third_eye: "Transition moment â€” day ending, night beginning"
            
        characters:
          description: "Recognized people/characters"
          example:
            - { name: "Unknown tourist", confidence: 0.3 }
            - { name: "Cyclist", action: "crossing bridge" }
            
        facets:
          description: "Which Third Eye facets were active"
          example: [aesthetic, temporal, emotional, economic]
          
        passes:
          description: "Mining pass history"
          example:
            - { id: "2024-01-30-001", lens: "technical", miner: "claude" }
            - { id: "2024-01-30-002", lens: "emotional", miner: "don" }
            
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # SECTION 3: prompts â€” Generation Prompts (AI Images)
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    prompts:
      description: "For AI-generated images â€” the prompts that created them"
      when: "Image was generated, not photographed"
      subsections:
        generation:
          fields: [model, prompt, negative_prompt, seed, steps, cfg_scale, sampler]
          example:
            model: "dall-e-3"
            prompt: "Amsterdam canal at sunset, golden hour, reflection on water"
            negative_prompt: "people, cars, modern elements"
            seed: 42
            generated_at: "2024-01-30T16:00:00Z"
            
        variations:
          description: "If image is variation of another"
          example:
            parent_image: "sunset-001.png"
            variation_prompt: "same scene but with more dramatic clouds"
            variation_strength: 0.7
            
        upscale:
          description: "Upscaling history"
          example:
            original_size: "1024x1024"
            upscaled_to: "4096x4096"
            model: "Real-ESRGAN"
            
        inpaint:
          description: "Inpainting/outpainting history"
          example:
            - { region: "sky", prompt: "dramatic sunset clouds" }
            - { region: "extend-left", prompt: "more canal houses" }
            
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # SECTION 4: jazz â€” Arbitrary Custom Metadata
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    jazz:
      description: "Freeform YAML Jazz â€” your metadata, your rules"
      philosophy: "If it doesn't fit elsewhere, it goes in jazz"
      subsections:
        project:
          description: "Project/album organization"
          example:
            album: "Netherlands 2024"
            collection: "Golden Hour Series"
            series: "Canal Reflections"
            sequence: 3
            
        ratings:
          description: "Subjective assessments"
          example:
            technical_quality: 4
            emotional_impact: 5
            favorite: true
            portfolio_candidate: true
            print_worthy: true
            
        stories:
          description: "Personal context and memories"
          example:
            story: "Taken while waiting for Marieke at the bridge"
            mood_when_taken: "peaceful, contemplative"
            who_was_there: [don, marieke, palm]
            
        workflow:
          description: "Editing/processing notes"
          example:
            edited_in: "Lightroom"
            edit_notes: "Boosted shadows, warmed highlights"
            versions:
              - { name: "original", file: "sunset-original.jpg" }
              - { name: "edited", file: "sunset.jpg" }
              - { name: "print", file: "sunset-print.tiff" }
              
        links:
          description: "Connections to other files/resources"
          example:
            related_images: ["sunset-001.jpg", "sunset-003.jpg"]
            source_raw: "IMG_1234.DNG"
            published_to: ["instagram", "flickr"]
            moollm_room: "rooms/amsterdam/prinsengracht/"

# COMPLETE EXAMPLE

exif_sidecar_example:
  file: "sunset-exif.yml"
  note: "Complete example of the four-section structure"
  content: |
    # sunset-exif.yml
    # Sidecar for: sunset.jpg
    # Generated: 2024-01-30T17:00:00Z
    # Last sync: 2024-01-30T18:30:00Z
    
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # EXIF â€” Standard Camera Metadata
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    exif:
      camera:
        Make: "Apple"
        Model: "iPhone 15 Pro"
        LensModel: "iPhone 15 Pro back triple camera 6.765mm f/1.78"
        FocalLength: "6.765 mm"
        FNumber: "1.78"
        ExposureTime: "1/120"
        ISO: "64"
        
      datetime:
        DateTimeOriginal: "2024-01-30 16:42:33"
        CreateDate: "2024-01-30 16:42:33"
        TimeZone: "+01:00"
        
      gps:
        GPSLatitude: "52.3676"
        GPSLongitude: "4.9041"
        GPSAltitude: "2m"
        Location: "Amsterdam, Netherlands"
        Address: "Prinsengracht 263, Amsterdam"
        
      descriptive:
        Title: "Sunset over Prinsengracht"
        Description: "Golden hour light reflecting on canal"
        Keywords: [amsterdam, sunset, canal, golden-hour, reflection]
    
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # MINING â€” YAML Jazz from Three Eyes
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    mining:
      resources:
        water: { quantity: "abundant", type: "canal", clarity: "reflective" }
        light: { quality: "golden", direction: "west", intensity: "warm" }
        architecture: { style: "dutch-golden-age", count: 5, condition: "well-preserved" }
        atmosphere: { mood: "peaceful", time: "evening" }
        
      observations:
        left_eye: |
          Structure: 5 canal houses, 17th century
          Bridge: single arch, brick
          Water: calm, mirror-like reflections
          Sky: clear with golden gradient
          
        right_eye: |
          Feeling: Peaceful, contemplative
          Time sense: Day ending, transition moment
          Mood: Nostalgic, timeless
          Story: The city settling into evening
          
        third_eye: |
          Meaning: Continuity â€” these houses have seen 400 years of sunsets
          Economic: Prime real estate, tourist appeal
          Cultural: Quintessential Amsterdam iconography
          Temporal: Golden hour = photographer's favorite
          
      characters: []  # No people in frame
      
      facets: [aesthetic, temporal, emotional, economic, cultural]
      
      passes:
        - { id: "2024-01-30-001", lens: "technical", miner: "claude", timestamp: "2024-01-30T17:00:00Z" }
        - { id: "2024-01-30-002", lens: "emotional", miner: "don", timestamp: "2024-01-30T17:15:00Z" }
    
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # PROMPTS â€” Generation Info (N/A for photos)
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    prompts:
      generated: false
      note: "This is a photograph, not AI-generated"
    
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # JAZZ â€” Custom Metadata
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    jazz:
      project:
        album: "Netherlands 2024"
        collection: "Golden Hour Series"
        series: "Canal Reflections"
        sequence: 3
        
      ratings:
        technical_quality: 4
        emotional_impact: 5
        favorite: true
        portfolio_candidate: true
        
      stories:
        story: "Walking home from coffee with Marieke, stopped on the bridge"
        mood_when_taken: "peaceful, grateful"
        who_was_there: [don, marieke]
        
      workflow:
        edited_in: "Lightroom"
        edit_notes: "Minor: boosted shadows, +10 warmth"
        
      links:
        related_images: ["prinsengracht-001.jpg", "prinsengracht-003.jpg"]
        moollm_room: "rooms/amsterdam/prinsengracht/"

# SISTER SCRIPT UPDATE

exif_sidecar_commands:
  
  extract_sidecar:
    signature: "python exif.py sidecar [image]"
    output: "{basename}-exif.yml"
    description: "Create -exif.yml sidecar from image"
    example: "python exif.py sidecar sunset.jpg â†’ sunset-exif.yml"
    
  inject_sidecar:
    signature: "python exif.py inject-sidecar [image]"
    input: "{basename}-exif.yml"
    description: "Inject sidecar back into image EXIF"
    example: "python exif.py inject-sidecar sunset.jpg â† sunset-exif.yml"
    
  sync_sidecar:
    signature: "python exif.py sync-sidecar [image]"
    description: "Bidirectional sync between image and sidecar"
    conflict: "Sidecar wins (more recently edited)"
    
  batch_sidecars:
    signature: "python exif.py batch-sidecars [directory]"
    description: "Create sidecars for all images in directory"
    example: "python exif.py batch-sidecars ./photos â†’ *.jpg â†’ *-exif.yml"
    
  index_sidecars:
    signature: "python exif.py index-sidecars [directory] --to INDEX.yml"
    description: "Create searchable index of all sidecars"
    output: "INDEX.yml with summary of all images"

# K-LINES

exif_sidecar_k_lines:
  activates:
    - EXIF-SIDECAR
    - GREPPABLE-CACHE
    - MINING-CACHE
    - PROMPT-ARCHIVE
    - YAML-JAZZ-CACHE
    - IMAGE-INDEX
    - BATCH-SIDECARS

# ADVERTISEMENTS

exif_sidecar_advertisements:
  
  SIDECAR-CREATE:
    score: 93
    condition: "Have image, want greppable metadata cache"
    
  SIDECAR-BATCH:
    score: 91
    condition: "Directory of images, want searchable index"
    
  SIDECAR-GREP:
    score: 95
    condition: "Need to find images by any property"
    note: "grep -r 'keyword' *-exif.yml"
    
  SIDECAR-PROMPTS:
    score: 92
    condition: "AI-generated images, want to preserve prompts"
    
  SIDECAR-MINING:
    score: 94
    condition: "Have mined YAML Jazz, want persistent greppable cache"
