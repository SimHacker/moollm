---
description: Cursor Mirror and debugging tools
globs: skills/cursor-mirror/**,skills/skill-snitch/**,.moollm/**
alwaysApply: false
---
# Introspection Tools

## cursor-mirror

Watch yourself think. Query Cursor's internals.

```bash
python3 skills/cursor-mirror/scripts/cursor_mirror.py <command>
```

| Command | Purpose |
|---------|---------|
| `status` | Health check |
| `tree` | Navigate workspaces/composers |
| `tools <id>` | Tool call history |
| `thinking <id>` | Reasoning blocks |
| `context-sources <id>` | What files were loaded |
| `timeline <id>` | Full event sequence |
| `deep-snitch` | Security audit |

Use `tree` first to find composer IDs.

## Deep Probing (Permission Required)

To optimize this session, I can run cursor-mirror to gather:
- Recent tool call patterns (what's being loaded repeatedly?)
- Context assembly stats (what's eating tokens?)
- Session history (patterns across boots)

**Ask:** "Run deep probe?" or "Optimize with cursor-mirror"

### Probe Results (Example)

```bash
# Commands executed with permission:
python3 skills/cursor-mirror/scripts/cursor_mirror.py status --yaml
python3 skills/cursor-mirror/scripts/cursor_mirror.py tools @1 --summary
python3 skills/cursor-mirror/scripts/cursor_mirror.py context-sources @1
```

**Status Dashboard:**
```
╔══════════════════════════════════════════════════════════════╗
║                    CURSOR STATUS DASHBOARD                   ║
╠══════════════════════════════════════════════════════════════╣
║  Composers:     66    Messages:   121971                     ║
║  MCP Servers:   14    Privacy:    ON                         ║
╠══════════════════════════════════════════════════════════════╣
║  AI Settings                                                 ║
║    Composer Model: claude-4-sonnet                           ║
║    Chat Model:     claude-4-sonnet                           ║
╠══════════════════════════════════════════════════════════════╣
║  Limits                                                      ║
║    Context Tokens:        30000                              ║
║    Max MCP Tools:           100                              ║
║    Max Files Index:      100000                              ║
╚══════════════════════════════════════════════════════════════╝
```

**Context Sources (this session):**
- File Selections: 10
- Folder Selections: 2
- Code Selections: 36
- Image Attachments: 14
- Mentions: 22

### Optimization Recommendations

Based on probe data:
- ✓ INDEX.md loaded first (good)
- ⚠️ INDEX.yml also loaded (redundant — remove from hot.yml)
- ✓ GLANCE files used for Palm and Pub
- ✓ Full CHARACTER.yml not loaded unnecessarily
- Consider: Add pub/GLANCE.yml to hot.yml (loaded 3+ times)

## skill-snitch

Audit skills for security issues.

- `SCAN` — Quick static scan
- `AUDIT` — Deep pattern matching  
- `SNITCH` — Runtime surveillance via cursor-mirror

**Recent Scans:**
- `2026-01-28`: Full skill audit (117 skills)
- `2026-01-27`: no-ai-* suite deep probe
- `2026-01-26`: bootstrap optimization analysis

## .moollm/ Directory

Gitignored scratch space:

| File | Status | Purpose |
|------|--------|---------|
| `hot.yml` | ✓ exists | Priority hints (advisory) |
| `working-set.yml` | ✓ exists | Current focus |
| `cold.yml` | ✓ exists | Archaeology |
| `session-log.md` | ✓ exists | Append-only log |
| `output.md` | ✓ exists | Append-only output |
| `bootstrap-probe.yml` | ✓ exists | Environment diagnostics |
| `deep-snitch-full.yml` | ✓ exists | Security scan results |

All files present. No BOOTSTRAP needed.
