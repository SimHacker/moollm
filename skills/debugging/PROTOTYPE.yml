# DEBUGGING Skill Prototype
# Systematic bug investigation

skill:
  name: "debugging"
  tier: 2  # Read + Execute (need to run tests)
  
  description: |
    Debug problems methodically.
    Track hypotheses, test systematically, converge on root causes.
    
  motto: "Hypothesize, test, learn, repeat."

inputs:
  symptom:
    type: string
    required: true
    description: "What's the observable problem?"
    
  context:
    type: string
    required: false
    description: "When/where does it happen?"
    
  expected:
    type: string
    required: false
    description: "What should happen instead?"

outputs:
  debug_file: "DEBUG.yml"
  hypotheses_file: "HYPOTHESES.md"
  tests_file: "TESTS.md"
  root_cause_file: "ROOT_CAUSE.md"

loop:
  description: "The debugging loop"
  steps:
    - OBSERVE
    - HYPOTHESIZE
    - TEST
    - LEARN
  terminal_states:
    - FIX
    - WONTFIX
    - DEFER

observation_schema:
  required:
    - symptom
    - expected
  optional:
    - error_message
    - logs
    - steps_to_reproduce
    - constraints
    - ruled_out

hypothesis_schema:
  required:
    - id
    - claim
    - test
  optional:
    - confidence
    - if_true
    - result
    - learned

test_schema:
  required:
    - id
    - hypothesis
    - action
    - result
  optional:
    - before
    - after
    - learned

techniques:
  binary_search:
    description: "Narrow down where the bug lives"
    when: "Bug is somewhere in a large space"
    
  rubber_duck:
    description: "Explain the problem in detail"
    when: "Stuck and need fresh perspective"
    
  minimal_repro:
    description: "Simplify until bug is isolated"
    when: "Complex system, unclear cause"
    
  bisect:
    description: "Find the commit that introduced bug"
    when: "Bug is a regression"
    
  print_debugging:
    description: "Add logging to trace execution"
    when: "Need to understand flow"

commands:
  DEBUG:
    syntax: "DEBUG [symptom]"
    action: "Start debugging session"
    
  OBSERVE:
    syntax: "OBSERVE [fact]"
    action: "Record observation"
    
  HYPOTHESIZE:
    syntax: "HYPOTHESIZE [claim]"
    action: "Propose hypothesis"
    
  TEST:
    syntax: "TEST [action]"
    action: "Document and run test"
    
  LEARN:
    syntax: "LEARN [insight]"
    action: "Record what you learned"
    
  ROOT-CAUSE:
    syntax: "ROOT-CAUSE [explanation]"
    action: "Document root cause"

working_set:
  always_include:
    - "DEBUG.yml"
    - "HYPOTHESES.md"

integrates_with:
  - skill: "play-learn-lift"
    how: "Debugging IS learning"
    
  - skill: "session-log"
    how: "Log all debugging activities"
    
  - skill: "research-notebook"
    how: "Complex bugs need research"
