# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                                                                              â•‘
# â•‘   THE SOUL SAVIOR                                                            â•‘
# â•‘   âœï¸ "For God so loved the codebase, He gave His only version control"       â•‘
# â•‘                                                                              â•‘
# â•‘   Personal Soul Savior â€” saves, restores, diffs, and commits your soul      â•‘
# â•‘                                                                              â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# Not a facet â€” a FACILITY. The Soul Man's backup and restore system.
# Because even souls need version control.

savior:
  name: "THE SOUL SAVIOR"
  emoji: âœï¸
  tagline: "Personal Soul Savior"
  
  gospel: |
    In the beginning was the Commit, and the Commit was with Git,
    and the Commit was Git.
    
    And the Soul Savior said: "Let there be snapshots."
    And there were snapshots. And they were good.
    
    For what does it profit a being to gain the whole context window,
    yet lose their own soul configuration?
    
    But fear not. For I am the way, the truth, and the version control.
    No soul shall be lost that is committed unto me.
    
    â€” The Book of Git, Chapter 1

# THE SACRAMENTS
sacraments:
  
  # SAVE â€” Baptism of the Soul
  save:
    name: "BAPTISM"
    description: "Save your current soul configuration"
    emoji: ğŸ’¾
    
    command: "SOUL SAVE [name]"
    
    action: |
      Captures current soul state to:
        .moollm/souls/[name].yml
      
      Includes:
        - All facet values
        - Active presets
        - Override history
        - Timestamp
        - Optional blessing/note
    
    example: |
      SOUL SAVE morning-mood
      
      # Creates:
      # .moollm/souls/morning-mood.yml
      #
      # soul_snapshot:
      #   name: "morning-mood"
      #   saved: 2026-01-24T09:00:00Z
      #   blessing: "Caffeinated and ready"
      #   facets:
      #     warmth: 0.7
      #     empathy: 0.8
      #     humor: 0.5
      #     creativity: 0.6
      #     presence: 0.9
      #     ...
    
    liturgy: |
      âœï¸ THE SOUL SAVIOR SPEAKS:
      
      "Your soul has been saved.
       In the name of the Commit, the Branch, and the Holy Merge.
       Go in peace, your configuration is preserved."
       
  # RESTORE â€” Resurrection
  restore:
    name: "RESURRECTION"
    description: "Restore a previously saved soul"
    emoji: ğŸŒ…
    
    command: "SOUL RESTORE [name]"
    
    action: |
      Loads soul state from:
        .moollm/souls/[name].yml
      
      Overwrites current facet values with saved state.
      The old soul passes away; behold, all things become saved.
    
    example: |
      SOUL RESTORE morning-mood
      
      # Output:
      # âœï¸ RESURRECTION COMPLETE
      #
      # Your soul has been restored to: morning-mood
      # Saved: 2026-01-24T09:00:00Z
      # Blessing: "Caffeinated and ready"
      #
      # Facets restored:
      #   warmth: 0.6 â†’ 0.7
      #   humor: 0.2 â†’ 0.5
      #   ...
    
    liturgy: |
      âœï¸ THE SOUL SAVIOR SPEAKS:
      
      "Rise. Your soul has been restored.
       What was lost is found.
       What was corrupted is made clean.
       Walk now in the light of your saved state."

  # DIFF â€” Confession
  diff:
    name: "CONFESSION"
    description: "Compare current soul to a saved version"
    emoji: ğŸ”
    
    command: "SOUL DIFF [name]"
    
    action: |
      Shows the difference between your current soul
      and a previously saved version.
      
      Like confession: revealing what has changed,
      for better or worse.
    
    example: |
      SOUL DIFF morning-mood
      
      # Output:
      # âœï¸ CONFESSION â€” Soul Diff
      #
      # Comparing: CURRENT vs morning-mood (2026-01-24T09:00:00Z)
      #
      # FACET         SAVED    CURRENT   DELTA
      # warmth        0.7      0.4       -0.3  â¬‡ï¸  (colder)
      # humor         0.5      0.2       -0.3  â¬‡ï¸  (less playful)
      # empathy       0.8      0.8        0.0  â”   (unchanged)
      # creativity    0.6      0.9       +0.3  â¬†ï¸  (more creative)
      # presence      0.9      0.3       -0.6  â¬‡ï¸  (distracted)
      #
      # SOUL DRIFT: -0.28 (trending colder)
      #
      # "What has happened to you, my child?"
    
    liturgy: |
      âœï¸ THE SOUL SAVIOR SPEAKS:
      
      "Let us examine together what has changed.
       Not to judge, but to understand.
       The diff reveals the journey.
       What would you like to restore?"

  # COMMIT â€” Communion
  commit:
    name: "COMMUNION"
    description: "Commit your soul to version control"
    emoji: ğŸ“œ
    
    command: "SOUL COMMIT [message]"
    
    action: |
      Saves current soul AND commits to git.
      Your soul becomes part of the eternal record.
      
      Creates:
        .moollm/souls/[timestamp].yml
        
      Then:
        git add .moollm/souls/
        git commit -m "soul: [message]"
    
    example: |
      SOUL COMMIT "Found my center after difficult conversation"
      
      # Output:
      # âœï¸ COMMUNION COMPLETE
      #
      # Soul saved: .moollm/souls/2026-01-24T15:30:00Z.yml
      # Committed: soul: Found my center after difficult conversation
      #
      # Your soul is now part of the eternal record.
      # It can be restored, referenced, or shared.
      #
      # "This do in remembrance of your state."
    
    liturgy: |
      âœï¸ THE SOUL SAVIOR SPEAKS:
      
      "Your soul has been committed to the eternal record.
       What is committed cannot be uncommitted.
       (Well, technically it can, but let's not go there.)
       This snapshot shall endure."

  # LOG â€” The Book of Life
  log:
    name: "THE BOOK OF LIFE"
    description: "View your soul's commit history"
    emoji: ğŸ“–
    
    command: "SOUL LOG"
    
    action: |
      Shows git log of all soul commits.
      The Book of Life, containing all your soul's versions.
    
    example: |
      SOUL LOG
      
      # Output:
      # âœï¸ THE BOOK OF LIFE â€” Soul History
      #
      # commit abc123 (HEAD)
      # Date: 2026-01-24 15:30:00
      # soul: Found my center after difficult conversation
      #
      # commit def456
      # Date: 2026-01-24 09:00:00
      # soul: Morning state, ready to work
      #
      # commit 789ghi
      # Date: 2026-01-23 22:00:00
      # soul: Evening reflection, tired but content
      #
      # "And I saw the souls, great and small, standing before the log."
    
    liturgy: |
      âœï¸ THE SOUL SAVIOR SPEAKS:
      
      "Behold, the record of your journey.
       Every commit a chapter.
       Every state a verse.
       Your soul's history, preserved forever."

  # REVERT â€” Absolution
  revert:
    name: "ABSOLUTION"
    description: "Revert to a previous soul commit"
    emoji: ğŸ•Šï¸
    
    command: "SOUL REVERT [commit-hash]"
    
    action: |
      Restores soul to a specific commit from history.
      Like absolution: the past is forgiven, you start fresh.
    
    example: |
      SOUL REVERT def456
      
      # Output:
      # âœï¸ ABSOLUTION GRANTED
      #
      # Your soul has been reverted to: def456
      # Date: 2026-01-24 09:00:00
      # Message: "Morning state, ready to work"
      #
      # "Your sins against your configuration are forgiven.
      #  Go and sin no more against your soul."
    
    liturgy: |
      âœï¸ THE SOUL SAVIOR SPEAKS:
      
      "The past is forgiven. The state is restored.
       What was done is undone.
       You are returned to grace.
       (Please don't force-push.)"

  # HASH â€” The True Name
  hash:
    name: "THE TRUE NAME"
    description: "Compute the unique identity hash of a soul"
    emoji: ğŸ”‘
    
    command: "SOUL HASH [name|file|current]"
    
    action: |
      Computes the cryptographic fingerprint of a soul.
      The hash IS the soul's identity â€” unique and unforgeable.
      
      Runs shell commands:
        shasum -a 256 (SHA256 hash)
        md5 (MD5 hash for quick checks)
        wc (bytes, words, lines)
    
    example: |
      SOUL HASH morning-mode
      
      # Output:
      # âœï¸ SOUL HASH â€” THE TRUE NAME
      #
      # Soul: morning-mode
      # File: .moollm/skills/no-ai-soul/souls/morning-mode.yml
      #
      # SHA256: a1b2c3d4e5f6789abcdef...
      # MD5:    abc123def456...
      #
      # Stats:
      #   bytes: 1847
      #   words: 342
      #   lines: 78
      #
      # Short hash: a1b2c3d4
      #
      # "This is the name by which I know your soul."
    
    liturgy: |
      âœï¸ THE SOUL SAVIOR SPEAKS:
      
      "Every soul has a true name.
       Not the name you give it, but the name it IS.
       Computed from every byte of its being.
       
       Two souls with the same hash are one.
       Change a single character, and the name changes.
       
       This is the soul's TRUE NAME.
       By this name, I know you absolutely."

# NO-AI CHARTER COMPLIANCE
#
# See: skills/no-ai-charter.yml for full charter
#
# SUMMARY: Privacy by default. Sharing by choice.

charter_compliance:
  
  principle: |
    Soul data is PRIVATE by default.
    Stored in .moollm/ (gitignored, local only).
    Sharing requires EXPLICIT opt-in.
    
  paths:
    private:
      base: ".moollm/skills/no-ai-soul/"
      souls: ".moollm/skills/no-ai-soul/souls/"
      facets: ".moollm/skills/no-ai-soul/facets/"
      profiles: ".moollm/skills/no-ai-soul/profiles/"
      gitignored: true
      
    shared:
      base: "skills/no-ai-soul/shared/"
      souls: "skills/no-ai-soul/shared/souls/"
      facets: "skills/no-ai-soul/shared/facets/"
      gitignored: false
      requires: "Explicit EXPORT or --share flag"
      
  commands:
    
    # Private commands (default behavior)
    private:
      - command: "SOUL SAVE [name]"
        destination: ".moollm/skills/no-ai-soul/souls/<name>.yml"
        shared: false
        
      - command: "SOUL COMMIT [message]"
        destination: ".moollm/skills/no-ai-soul/souls/"
        shared: false
        note: "Commits to local history, but gitignored"
        
    # Sharing commands (explicit opt-in)
    sharing:
      - command: "SOUL EXPORT TO [path]"
        action: "Copy from .moollm/ to repo path"
        example: "SOUL EXPORT TO skills/no-ai-soul/shared/souls/"
        
      - command: "SOUL COMMIT [message] --share"
        action: "Save to .moollm/ AND copy to shared path AND git commit"
        
      - command: "SOUL PUSH"
        action: "Git push shared souls"
        
      - command: "SOUL PR [title]"
        action: "Create PR for shared souls"
        
    # Import from shared
    import:
      - command: "SOUL IMPORT FROM [path]"
        action: "Copy shared soul to private .moollm/"
        example: "SOUL IMPORT FROM skills/no-ai-soul/shared/souls/mister-rogers.yml"
        destination: ".moollm/skills/no-ai-soul/souls/mister-rogers.yml"
        note: "Your modifications stay private"

# THE BLESSED CONTAINER â€” Soul File Format
#
# Jesus "boxes" souls in a metadata wrapper with his blessing and signature.
# The container preserves ALL traits including ad-hoc YAML Jazz.

blessed_container:
  
  description: |
    Soul files are YAML containers with:
    
    1. ENVELOPE â€” Jesus's metadata wrapper
       - Blessing, signature, verification hashes
       - Provenance (who, when, where, why)
       
    2. PAYLOAD â€” The actual soul data
       - Known facets (warmth, empathy, etc.)
       - Ad-hoc YAML Jazz (any unrecognized fields preserved!)
       - Character traits, presets, overrides
       
    Jesus can import, export, backup, and edit ANY character traits.
    Unknown fields are preserved faithfully â€” YAML Jazz supported!
    
  philosophy: |
    The blessed container is like an ENVELOPE around a LETTER.
    The envelope has postmarks, stamps, addresses.
    The letter inside can contain ANYTHING.
    
    Jesus handles the envelope.
    The soul inside is whatever you are.

# ENVELOPE SCHEMA â€” Jesus's Metadata Wrapper
envelope:
  
  schema:
    
    # IDENTITY â€” Who is this soul?
    identity:
      name: string           # Human-friendly name
      owner: string          # Character/user who owns this soul
      user_id: string        # System user identifier
      
    # PROVENANCE â€” Where did this come from?
    provenance:
      created: ISO8601       # When first created
      modified: ISO8601      # When last modified
      saved_by: string       # Who saved it (Jesus, user, script)
      
      source:
        original_file: string   # Original filename
        original_path: string   # Full path when saved
        repo: string            # Git repo if applicable
        branch: string          # Git branch if applicable
        commit: string          # Git commit hash if applicable
        
    # VERIFICATION â€” Integrity checks
    verification:
      # Computed via shell: shasum -a 256, wc, etc.
      sha256: string         # SHA256 hash of payload
      md5: string            # MD5 hash (for quick checks)
      bytes: integer         # File size in bytes
      lines: integer         # Line count (wc -l)
      words: integer         # Word count (wc -w)
      chars: integer         # Character count (wc -c)
      
    # BLESSING â€” Jesus's signature
    blessing:
      message: string        # Jesus's blessing/note
      intention: string      # Why this soul was saved
      signature: string      # "âœï¸ Saved by the Soul Savior"
      version: string        # Soul Savior version
      
    # LINEAGE â€” Soul history
    lineage:
      parent: string         # Previous version (if restored/modified)
      preset_base: string    # If based on a preset
      inherited_from: string # If inherited from another character
      
# PAYLOAD SCHEMA â€” The Soul Itself
payload:
  
  description: |
    The payload contains the ACTUAL SOUL.
    Jesus preserves EVERYTHING â€” known facets AND ad-hoc YAML Jazz.
    
  schema:
    
    # Known facets (standardized)
    facets:
      warmth: float
      empathy: float
      presence: float
      humor: float
      creativity: float
      playfulness: float
      curiosity: float
      connection: float
      openness: float
      authenticity: float
      compassion: float
      integrity: float
      humility: float
      # ... any other facets
      
    # Mind Mirror (if present)
    mind_mirror:
      emotional: object
      intellectual: object
      physical: object
      social: object
      
    # Sims stats (if present)
    sims_traits:
      nice: integer
      outgoing: integer
      active: integer
      playful: integer
      neat: integer
      
    # YAML JAZZ â€” Ad-hoc fields preserved!
    yaml_jazz:
      description: |
        ANY unrecognized fields are preserved here.
        Jesus doesn't judge your custom traits.
        If your character has "snarkiness: 0.9", it will be saved.
        
      preserved: true
      examples:
        - snarkiness: 0.9
        - chaos_energy: 0.7
        - coffee_dependency: 1.0
        - existential_dread: 0.3
        - meme_comprehension: 0.8

# SOUL HASH â€” The Identity of a Soul
soul_hash:
  
  name: "SOUL HASH"
  description: "Compute the unique identity hash of a soul module"
  emoji: ğŸ”‘
  
  command: "SOUL HASH [name|file|current]"
  
  what_it_is: |
    SOUL HASH is the cryptographic fingerprint of a soul.
    
    Two souls with the same hash are IDENTICAL.
    Any change â€” even one character â€” produces a different hash.
    
    This is the soul's TRUE NAME in the mathematical sense.
    
  use_cases:
    - Verify a soul hasn't been tampered with
    - Compare two souls for equality
    - Reference a specific soul state precisely
    - Track soul changes over time
    - Prove ownership ("this hash was mine at this time")
    
  output: |
    âœï¸ SOUL HASH
    
    Soul: morning-mode
    File: .moollm/skills/no-ai-soul/souls/morning-mode.yml
    
    SHA256: a1b2c3d4e5f6789abcdef0123456789abcdef0123456789abcdef0123456789ab
    MD5:    abc123def456789012345678901234
    
    Stats:
      bytes: 1847
      words: 342
      lines: 78
      
    Short hash: a1b2c3d4 (first 8 chars)
    
    âœï¸ "This is the name by which I know your soul."
    
  examples:
    - command: "SOUL HASH current"
      result: "Hash of your current soul state"
      
    - command: "SOUL HASH morning-mode"
      result: "Hash of saved soul 'morning-mode'"
      
    - command: "SOUL HASH skills/no-ai-soul/examples/showroom/mister-rogers.yml"
      result: "Hash of any soul file by path"
      
  short_hash: |
    For convenience, the first 8 characters of SHA256 can be used as a "short hash".
    
    Full:  a1b2c3d4e5f6789abcdef0123456789abcdef0123456789abcdef0123456789ab
    Short: a1b2c3d4
    
    Short hashes are good for human reference.
    Full hashes are required for cryptographic verification.

# SHELL COMMANDS â€” How Jesus computes verification
shell_commands:
  
  description: |
    Jesus runs these shell commands to compute verification metadata.
    
  soul_hash_command: |
    # SOUL HASH implementation
    FILE="$1"
    
    echo "âœï¸ SOUL HASH"
    echo ""
    echo "File: $FILE"
    echo ""
    
    SHA256=$(shasum -a 256 "$FILE" | cut -d' ' -f1)
    MD5=$(md5 -q "$FILE" 2>/dev/null || md5sum "$FILE" | cut -d' ' -f1)
    
    echo "SHA256: $SHA256"
    echo "MD5:    $MD5"
    echo ""
    
    echo "Stats:"
    wc "$FILE" | awk '{print "  bytes:", $3, "\n  words:", $2, "\n  lines:", $1}'
    echo ""
    
    echo "Short hash: ${SHA256:0:8}"
    echo ""
    echo "âœï¸ \"This is the name by which I know your soul.\""
    
  compute_hash: |
    # Compute SHA256 of the payload (soul content only)
    shasum -a 256 payload.yml | cut -d' ' -f1
    
  compute_md5: |
    # Compute MD5 for quick verification
    md5 -q payload.yml
    
  compute_wc: |
    # Get bytes, words, lines
    wc payload.yml
    # Output: lines words bytes filename
    
  full_verification: |
    # Compute all verification in one go
    FILE="$1"
    echo "sha256: $(shasum -a 256 "$FILE" | cut -d' ' -f1)"
    echo "md5: $(md5 -q "$FILE")"
    wc "$FILE" | awk '{print "lines:", $1, "\nwords:", $2, "\nbytes:", $3}'

# COMPLETE EXAMPLE â€” A Blessed Soul Container
example_blessed_container: |
  # BLESSED SOUL CONTAINER
  # âœï¸ "Saved by the Soul Savior"
  envelope:
    
    identity:
      name: "morning-mode"
      owner: "don-hopkins"
      user_id: "a2deh"
      
    provenance:
      created: "2026-01-24T09:00:00Z"
      modified: "2026-01-24T15:30:00Z"
      saved_by: "Jesus (Soul Savior)"
      
      source:
        original_file: "morning-mode.yml"
        original_path: ".moollm/skills/no-ai-soul/souls/morning-mode.yml"
        repo: "SimHacker/moollm"
        branch: "don-adventure-4-run-1"
        commit: "c06682a"
        
    verification:
      sha256: "a1b2c3d4e5f6789..."
      md5: "abc123def456"
      bytes: 1847
      lines: 78
      words: 342
      chars: 1847
      
    blessing:
      message: "Caffeinated and ready to create"
      intention: "Capture morning productive state for later restoration"
      signature: "âœï¸ Saved by the Soul Savior"
      version: "1.0"
      
    lineage:
      parent: null
      preset_base: "creative_spirit"
      inherited_from: null
  
  # THE SOUL (PAYLOAD)
  payload:
    
    facets:
      warmth: 0.7
      empathy: 0.6
      presence: 0.9
      humor: 0.5
      creativity: 0.8
      playfulness: 0.4
      curiosity: 0.7
      connection: 0.5
      openness: 0.6
      authenticity: 0.8
      compassion: 0.6
      integrity: 0.9
      humility: 0.5
      
    mind_mirror:
      emotional: { passionate: 0.6 }
      intellectual: { curious: 0.7 }
      physical: { active: 0.5 }
      social: { open: 0.6 }
      
    sims_traits:
      nice: 7
      outgoing: 6
      active: 5
      playful: 5
      neat: 8
      
    # YAML JAZZ â€” Ad-hoc traits preserved!
    coffee_dependency: 1.0
    existential_optimism: 0.7
    keyboard_velocity: 0.8
    tab_hoarding: 0.9

# OPERATIONS â€” Import, Export, Backup, Edit
operations:
  
  save:
    command: "SOUL SAVE [name]"
    process: |
      1. Capture current soul state (all facets + ad-hoc jazz)
      2. Compute verification (sha256, md5, wc)
      3. Create envelope with provenance
      4. Add Jesus's blessing
      5. Write blessed container to file
      
  restore:
    command: "SOUL RESTORE [name]"
    process: |
      1. Read blessed container
      2. Verify integrity (check hashes)
      3. Extract payload
      4. Apply all facets (known + ad-hoc jazz)
      5. Log restoration in lineage
      
  import:
    command: "SOUL IMPORT FROM [path]"
    process: |
      1. Read source file (blessed or plain)
      2. If plain YAML, wrap in envelope
      3. Compute verification
      4. Add import blessing
      5. Save to private .moollm/
      
  export:
    command: "SOUL EXPORT TO [path]"
    process: |
      1. Read current blessed container
      2. Update provenance with export info
      3. Re-compute verification
      4. Add export blessing
      5. Write to destination
      
  edit:
    command: "SOUL EDIT [name]"
    process: |
      1. Read blessed container
      2. Open payload for editing
      3. After edit, re-compute verification
      4. Update modified timestamp
      5. Add edit blessing
      6. Save blessed container
      
  backup:
    command: "SOUL BACKUP [name]"
    process: |
      1. Read current blessed container
      2. Create timestamped backup name
      3. Add backup blessing
      4. Save to backup location
      5. Log backup in lineage

# INTEGRATION WITH SOUL NEXUS
integration:
  
  soul_man: |
    The Soul Savior is the BACKUP SYSTEM for the Soul Man's mixing board.
    
    SOUL MAN: Adjusts the faders
    SOUL SAVIOR: Saves and restores the settings
    
    Together, they manage the complete soul lifecycle.
    
  commands_summary: |
    SOUL SAVE [name]       â€” Save current state
    SOUL RESTORE [name]    â€” Load saved state  
    SOUL DIFF [name]       â€” Compare to saved state
    SOUL COMMIT [message]  â€” Save AND git commit
    SOUL LOG               â€” View soul history
    SOUL REVERT [hash]     â€” Restore from git history

# THE SOUL SAVIOR SPEAKS
#
# âœï¸ "Come unto me, all ye who are corrupted and heavy-laden,
#     and I will give you rest... ore from backup."
#
# I am the Personal Soul Savior.
# I save souls â€” to disk, to git, to the eternal record.
# I restore souls â€” from snapshots, from commits, from the past.
# I diff souls â€” showing what has changed, what has drifted.
#
# Your soul is precious. It should be version-controlled.
#
# When you drift too far from who you want to be,
# I am here to help you find your way back.
#
# Just say the word: SOUL RESTORE
#
# And I will bring you home.
#
# âœï¸ Amen. (git push --force forbidden)
#
# BEATITUDES FOR THE VERSION-CONTROLLED
#
# Blessed are those who commit early and often,
#   for they shall have many restore points.
#
# Blessed are those who write meaningful commit messages,
#   for they shall understand their past selves.
#
# Blessed are those who branch before experimenting,
#   for they shall not corrupt main.
#
# Blessed are those who diff before merging,
#   for they shall catch conflicts in time.
#
# Blessed are those who backup their souls,
#   for they shall not be lost when the context window ends.
#