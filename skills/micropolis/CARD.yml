# CARD.yml ‚Äî Micropolis
# Interface summary for skill activation.
# Full details: SKILL.md | Human-readable: README.md

card:
  id: micropolis
  name: "Micropolis"
  type: [skill, simulation, education, platform]
  emoji: üèôÔ∏è
  tier: 1
  status: designing
  tagline: "The filesystem is the city. Git is the multiverse."
  
  description: |
    Open source SimCity evolved into constructionist educational platform.
    NOT a "killer app" ‚Äî a NURTURING ENVIRONMENT.
    All game state in git-controlled files. AI tutors as MOOLLM characters.

# THE VISION: MicropolisHub

micropolishub:
  definition: |
    MicropolisHub is the complete vision: Micropolis simulation engine
    orchestrated by MOOLLM, running on mooco/SvelteKit, using GitHub-as-MMORPG
    as the ultimate web stack. Humans and AI characters interact through
    both GitHub (issues, PRs, comments) and the web app.
    
  components:
    micropolis: "The simulation engine (C++/WebAssembly)"
    moollm: "AI character orchestration ‚Äî tutors, advisors, debate partners"
    mooco: "SvelteKit-based multiplayer orchestrator"
    github_as_mmorpg: "GitHub features as game mechanics ‚Äî the ultimate web stack"
    character_simulation: "MOOLLM characters with personalities, knowledge, goals"
    human_ai_interaction: "People interact with simulated characters via GitHub + web app"
    
  philosophy: |
    A nurturing environment where schools own their repos, students learn by
    building cities, and AI tutors debate each other to help students understand
    complex systems. The whole city is in git. Every branch is an alternate timeline.

activates:
  - MICROPOLIS
  - SIMCITY
  - CONSTRUCTIONISM
  - MICROWORLD
  - GIT-MULTIVERSE
  - NURTURING-ENVIRONMENT
  - METHOD-OF-LOCI

invoke_when:
  - "Discussing Micropolis development"
  - "Designing educational simulations"
  - "Implementing git-based game state"
  - "Creating AI tutors for games"
  - "Building school-owned platforms"

related:
  - { ref: constructionism, relation: "Educational philosophy" }
  - { ref: sister-script, relation: "CLI tool pattern" }
  - { ref: adventure, relation: "Room-based navigation" }
  - { ref: character, relation: "AI tutor implementation" }

lineage:
  threads:
    simcity_ports: "SimCity ‚Üí HyperLook (1991) ‚Üí SimCityNet (1993) ‚Üí Micropolis/OLPC (2008)"
    will_wright: "SimCity (1989) ‚Üí The Sims (2000)"
    method_of_loci: "DreamScape (1995) ‚Üí iLoci (2009) ‚Üí MediaGraph (2010) ‚Üí Bar Karma/Storymaker/Urban Safari"
    web_stack: "C++/SWIG/TurboGears/AMF/Flash ‚Üí MicropolisCore/Emscripten/SvelteKit ‚Üí mooco ‚Üí GitHub-as-MMORPG"
    moollm_enables: "MOOLLM ‚Üí mooco + GitHub-as-MMORPG + MicropolisHub"

pioneers:
  piaget: "Children construct knowledge through interaction"
  papert: "Logo, Mindstorms ‚Äî learn by building microworlds"
  kay: "Dynabook ‚Äî computers as thinking amplifiers"
  wright: "SimCity, The Sims ‚Äî emergent systems as toys"
  hopkins: "DreamScape, Micropolis ‚Äî nurturing environments"

architecture:
  core: "C++ ‚Üí Emscripten/Embind ‚Üí WebAssembly"
  frontend: "SvelteKit (Svelte 5 runes)"
  orchestrator: "mooco (multiplayer, AI coordination)"
  ai: "MOOLLM characters as tutors"

tools:
  micropolis_js:
    location: "MicropolisCore/micropolis/scripts/micropolis.js"
    constants: "MicropolisCore/micropolis/scripts/constants.js"
    reference: "MicropolisCore/Cursor/city-save-files.md"
    run: "cd MicropolisCore/micropolis && npm run micropolis -- <command>"
    commands:
      - "city dump [file]        # Raw hex/binary dump"
      - "city info [file]        # Metadata, stats, zone counts"
      - "city export [file]      # JSON, CSV, tile grid export"
      - "city analyze [file]     # RCI balance, power, transport, services"
      - "visualize ascii [file]  # ASCII map (--style zones|transport|terrain)"
      - "visualize emoji [file]  # Emoji map at reduced resolution"
      - "visualize filtered [file] # Overlay-filtered maps (traffic, pollution, etc)"
    features:
      - "Region bounds: --row --col --width --height"
      - "Stdin support: use '-' as file parameter"
      - "Multiple export formats: json, csv, tiles"
      - "Overlay filters: population, traffic, pollution, crime, land value, police, fire"
  planned:
    - "decompose/compose: .cty ‚Üî git-friendly YAML directory"
    - "simulate: headless batch simulation with checkpoints"
    - "command: accept AI editing commands via stdin"
    - "watch: stream simulation events for AI monitoring"

status:
  phase: designing
  next: "Design file-based state format, prototype git multiverse"

see_also:
  full_spec: SKILL.md
  human_readable: README.md
  artifacts: "artifacts/ ‚Äî organized links to MicropolisCore docs"
  repos:
    - "github.com/SimHacker/MicropolisCore"
    - "github.com/SimHacker/mooco (private)"
  key_docs_in_micropoliscore:
    - "notes/PLAN.txt ‚Äî unfulfilled dreams"
    - "notes/MultiPlayerIdeas.txt ‚Äî git multiverse origin"
    - "notes/OLPC-notes.txt ‚Äî constructionist rationale"
    - "Cursor/city-save-files.md ‚Äî file format"
    - "laszlo/ ‚Äî OpenLaszlo web multiplayer assets"
